define(['externalApp/base', 'angularjs', 'fbase'], function(AngApp) {
  var ExternalController;
  AngApp.directive('compile', [
    '$compile', function($compile) {
      return function(scope, element, attrs) {
        scope.$watch((function(scope) {
          return scope.$eval(attrs.compile);
        }), function(value) {
          element.html(value);
          $compile(element.contents())(scope);
        });
      };
    }
  ]);
  ExternalController = (function() {
    function ExternalController($scope, FirebaseService, $window, $timeout, Upload, $sce, $compile, $firebaseArray, $firebaseObject, $interval) {
      filepicker.setKey('A1LP338CwSuaNoitK6IHVz');
      $scope.zoomable = false;
      $scope.createFile = null;
      $scope.dotHtml = '';
      $scope.gamesIndex = $firebaseArray(FirebaseService.rootRef.child('indexes/categories'));
      $scope.createGameRef = FirebaseService.rootRef.child('games').push();
      $scope.stepStates = {
        stepOne: true,
        stepTwo: false,
        stepThree: false
      };
      $scope._ = _;
      $scope.resetHeights = function() {
        var stepHeight;
        $scope.paneHeightNumber = $window.innerHeight - document.querySelector('.top-bar-menu').offsetHeight;
        $scope.paneHeight = $scope.paneHeightNumber + 'px';
        stepHeight = ($scope.paneHeightNumber / 2) - 40 + 'px';
        $scope.stepStyle = {
          'max-height': stepHeight,
          'min-height': stepHeight,
          overflow: 'scroll'
        };
        $scope.appStyle = {
          'max-height': $window.innerHeight + 'px',
          'min-height': $window.innerHeight + 'px',
          overflow: 'scroll'
        };
        return $scope.paneStyle = {
          'max-height': $scope.paneHeight,
          'min-height': $scope.paneHeight,
          overflow: 'scroll'
        };
      };
      $scope.resetHeights();
      $scope.$watch('createFile', function() {
        if ($scope.createFile !== null) {
          return $scope.upload($scope.createFile);
        }
      });
      $scope.upload = function(file) {
        return Upload.upload({
          url: 'http://128.199.235.191/upload',
          data: {
            file: file
          }
        }).progress(function(evt) {
          var progressPercentage;
          progressPercentage = parseInt(100.0 * evt.loaded / evt.total);
          return $scope.progressStyle = {
            'width': progressPercentage + "%"
          };
        }).success(function(data, status, headers, config) {
          if (data.success) {
            return $timeout(function() {
              $scope.createGameRef.child('image').set(data.url);
              return $scope.previewUrl = data.url;
            });
          }
        });
      };
      $scope.removeImagePreview = function() {
        $scope.previewUrl = null;
        $scope.progressStyle = {
          'width': '0%'
        };
        $scope.createGameRef.child('image').set(null);
        return true;
      };
      $scope.togglePane = function(pane) {
        if (pane === 'Create') {
          $scope.showPlayPane = false;
          $scope.showCreatePane = true;
          return $scope.activeCreatePane = 'start';
        } else if (pane === 'Play') {
          $scope.showPlayPane = true;
          $scope.showCreatePane = false;
          $scope.playGameOptions = true;
          return $scope.playGameScreen = false;
        }
      };
      $scope.togglePane('Play');
      $scope.nextCreatePane = function(pane) {
        if (pane === 'start') {
          if ($scope.createGameName && $scope.activeCreateCategory) {
            FirebaseService.rootRef.child("indexes/categories/" + $scope.activeCreateCategory.$id + "/games/" + ($scope.createGameRef.key())).set({
              name: $scope.createGameName,
              live: false
            });
            $scope.stepStates.stepTwo = true;
            $scope.activeCreatePane = 'upload';
            $scope.createGameDots = $firebaseArray($scope.createGameRef.child('dots'));
            return $scope.createGameSync = $firebaseObject($scope.createGameRef);
          }
        } else if (pane === 'upload') {
          if ($scope.previewUrl) {
            $scope.activeCreatePane = 'mark';
            return alert('Please click on the image and add questions now');
          } else {
            return alert('Please choose an image first.');
          }
        } else if (pane === 'mark') {
          if ($scope.createGameDots.length > 0) {
            $scope.stepStates.stepThree = true;
            return $scope.activeCreatePane = 'settings';
          } else {
            return alert('Please add atleast 1 question.');
          }
        }
      };
      $scope.prevCreatePane = function(pane) {
        if (pane === 'upload') {
          $scope.stepStates = {
            stepOne: true,
            stepTwo: false,
            stepThree: false
          };
          return $scope.activeCreatePane = 'start';
        } else if (pane === 'mark') {
          return $scope.activeCreatePane = 'upload';
        } else if (pane === 'settings') {
          $scope.stepStates = {
            stepOne: true,
            stepTwo: true,
            stepThree: false
          };
          return $scope.activeCreatePane = 'mark';
        }
      };
      $scope.previewCanvasClick = function(event) {
        var left, ref, top, x, y;
        y = event.offsetY;
        x = event.offsetX;
        $scope.createGameQuestion = null;
        top = y - 20 + 'px';
        left = x + 40 + 'px';
        $scope.createQuestionBoxStyle = {
          'top': top,
          left: left
        };
        ref = $scope.createGameRef.child('dots').push();
        ref.set({
          x: x,
          y: y
        });
        return $scope.createGameActiveDotId = ref.key();
      };
      $scope.changeDot = function(dot) {
        var left, top, x, y;
        $scope.createGameQuestion = null;
        $scope.createGameActiveDotId = dot.$id;
        $scope.createGameQuestion = dot.question;
        y = dot.y;
        x = dot.x;
        top = y - 20 + 'px';
        left = x + 40 + 'px';
        return $scope.createQuestionBoxStyle = {
          'top': top,
          left: left
        };
      };
      $scope.addQuestion = function() {
        $scope.createGameRef.child("dots/" + $scope.createGameActiveDotId + "/question").set($scope.createGameQuestion);
        return $scope.createQuestionBoxStyle = null;
      };
      $scope.removeQuestion = function() {
        $scope.createGameRef.child("dots/" + $scope.createGameActiveDotId).set(null);
        $scope.createGameQuestion = null;
        return $scope.createQuestionBoxStyle = null;
      };
      $scope.setCreateOptions = function(option, val, text) {
        return $scope.createGameRef.child("settings/" + option).set({
          val: val,
          text: text
        });
      };
      $scope.finishCreate = function() {
        if ($scope.createGameSync.settings) {
          if ($scope.createGameSync.settings.chances) {
            if ($scope.createGameSync.settings.timer) {
              FirebaseService.rootRef.child("indexes/categories/" + $scope.activeCreateCategory.$id + "/games/" + ($scope.createGameRef.key()) + "/live").set(true);
              $scope.togglePane('Play');
              $scope.activeCreatePane = 'start';
              $scope.createGameName = null;
              $scope.activeCreateCategory = null;
              $scope.createGameRef = FirebaseService.rootRef.child('games').push();
              return $scope.createQuestionBoxStyle = null;
            } else {
              return alert('Please complete the settings');
            }
          } else {
            return alert('Please complete the settings');
          }
        } else {
          return alert('Please complete the settings');
        }
      };
      $scope.changeCreateCategory = function(category) {
        return $scope.activeCreateCategory = category;
      };
      $scope.changePlayCategory = function(category) {
        return $scope.activePlayCategory = category;
      };
      $scope.changePlayGame = function(game, gameId) {
        $scope.activePlayGame = game;
        return $scope.activePlayGameId = gameId;
      };
      $scope.triggerGameScreen = function() {
        if ($scope.activePlayCategory && $scope.activePlayGame) {
          $scope.playGameOptions = false;
          $scope.playGameScreen = true;
          $scope.playGameRef = FirebaseService.rootRef.child("games/" + $scope.activePlayGameId);
          $scope.playGameSync = $firebaseObject($scope.playGameRef);
          $scope.miliCounter = 0;
          $scope.secCounter = 0;
          $scope.minCounter = 0;
          return $scope.playGameSync.$loaded(function(x) {
            if (x) {
              return $timeout(function() {
                var questions;
                questions = [];
                $scope.guessesLeft = Object.keys($scope.playGameSync.dots).length;
                angular.forEach($scope.playGameSync.dots, function(val, key) {
                  return questions.push({
                    key: key,
                    val: val
                  });
                });
                $scope.questionsArray = _.shuffle(questions);
                $scope.questionsArrayLength = questions.length;
                $scope.answersArray = [];
                $scope.correctScore = 0;
                $scope.wrongScore = 0;
                return $scope.answerPercent = 0;
              });
            }
          });
        }
      };
      $scope.triggerGameOptions = function() {
        $scope.playGameOptions = true;
        $scope.playGameScreen = false;
        $scope.playGameRef = null;
        if ($scope.playGameSync) {
          return $scope.playGameSync.$destroy();
        }
      };
      $scope.bootGame = function() {
        $scope.gameOn = true;
        $scope.miliPromise = $interval(function() {
          if ($scope.miliCounter === 9) {
            return $scope.miliCounter = 0;
          } else {
            return $scope.miliCounter = $scope.miliCounter + 1;
          }
        }, 100);
        $scope.secPromise = $interval(function() {
          if ($scope.secCounter === 59) {
            $scope.secCounter = 0;
          } else {
            $scope.secCounter = $scope.secCounter + 1;
          }
          return $scope.evalTimerSettings();
        }, 1000);
        return $scope.minPromise = $interval(function() {
          return $scope.minCounter = $scope.minCounter + 1;
        }, 60000);
      };
      $scope.disableModal = function() {
        return $scope.enableModal = false;
      };
      $scope.evalTimerSettings = function() {
        var currentSeconds, theVal;
        theVal = parseInt($scope.playGameSync.settings.timer.val) / 1000;
        currentSeconds = $scope.minCounter * 60 + $scope.secCounter;
        if (theVal === currentSeconds) {
          $interval.cancel($scope.miliPromise);
          $interval.cancel($scope.secPromise);
          $interval.cancel($scope.minPromise);
          $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
          return $scope.enableModal = true;
        }
      };
      $scope.evalDot = function(dot, dotId) {
        if (!_.contains($scope.answersArray, dotId)) {
          if (dotId === $scope.questionsArray[0].key) {
            $scope.correctScore = $scope.correctScore + 1;
            $scope.guessesLeft = $scope.guessesLeft - 1;
            $scope.questionsArray.splice(0, 1);
            $scope.answersArray.push(dotId);
          } else {
            $scope.wrongScore = $scope.wrongScore + 1;
          }
          $scope.answerPercent = (($scope.correctScore / ($scope.correctScore + $scope.wrongScore)) * 100).toFixed(2);
          if ($scope.questionsArray.length === 0) {
            $interval.cancel($scope.miliPromise);
            $interval.cancel($scope.secPromise);
            $interval.cancel($scope.minPromise);
            $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
            $scope.enableModal = true;
          }
        }
        return $scope.evalChanceSettings();
      };
      $scope.evalChanceSettings = function() {
        if ($scope.playGameSync.settings.chances.val === 'asMany') {
          if ($scope.questionsArrayLength === $scope.correctScore + $scope.wrongScore) {
            $interval.cancel($scope.miliPromise);
            $interval.cancel($scope.secPromise);
            $interval.cancel($scope.minPromise);
            $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
            return $scope.enableModal = true;
          }
        } else if ($scope.playGameSync.settings.chances.val === 'firstWrong') {
          if ($scope.wrongScore === 1) {
            $interval.cancel($scope.miliPromise);
            $interval.cancel($scope.secPromise);
            $interval.cancel($scope.minPromise);
            $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
            return $scope.enableModal = true;
          }
        } else if ($scope.playGameSync.settings.chances.val === 'secondWrong') {
          if ($scope.wrongScore === 2) {
            $interval.cancel($scope.miliPromise);
            $interval.cancel($scope.secPromise);
            $interval.cancel($scope.minPromise);
            $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
            return $scope.enableModal = true;
          }
        } else if ($scope.playGameSync.settings.chances.val === 'thirdWrong') {
          if ($scope.wrongScore === 3) {
            $interval.cancel($scope.miliPromise);
            $interval.cancel($scope.secPromise);
            $interval.cancel($scope.minPromise);
            $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
            return $scope.enableModal = true;
          }
        }
      };
      $scope.submitScore = function(scoreFirstName, scoreLastName) {
        var totalTime;
        if (scoreFirstName && scoreLastName) {
          totalTime = Math.floor(Math.random() * 600) + 1;
          FirebaseService.rootRef.child("scores/" + $scope.activePlayGameId).push().set({
            uniqueCode: $scope.uniqueCode,
            totalTime: totalTime,
            firstName: scoreFirstName,
            lastName: scoreLastName,
            correct: $scope.correctScore,
            wrong: $scope.correctScore,
            answerPercent: $scope.answerPercent
          });
          if ($scope.wrongScore === 0) {
            FirebaseService.rootRef.child("topScores/" + $scope.activePlayGameId).push().set({
              uniqueCode: $scope.uniqueCode,
              totalTime: totalTime,
              firstName: scoreFirstName,
              lastName: scoreLastName,
              correct: $scope.correctScore,
              wrong: $scope.correctScore,
              answerPercent: $scope.answerPercent
            });
            FirebaseService.rootRef.child("uniqueCodeReference/" + $scope.uniqueCode).set({
              uniqueCode: $scope.uniqueCode,
              totalTime: totalTime,
              firstName: scoreFirstName,
              lastName: scoreLastName,
              correct: $scope.correctScore,
              wrong: $scope.correctScore,
              answerPercent: $scope.answerPercent
            });
          }
          $scope.showScores = true;
          return $scope.currentHighScores = $firebaseArray(FirebaseService.rootRef.child("topScores/" + $scope.activePlayGameId).orderByChild('totalTime').limitToFirst(10));
        }
      };
      $scope.playAgain = function() {
        $scope.gameOn = false;
        $scope.enableModal = false;
        return $scope.triggerGameScreen();
      };
      $scope.gameMenu = function() {
        $scope.gameOn = false;
        $scope.enableModal = false;
        return $scope.triggerGameOptions();
      };
    }

    return ExternalController;

  })();
  ExternalController.$inject = ["$scope", "FirebaseService", "$window", "$timeout", "Upload", "$sce", "$compile", "$firebaseArray", "$firebaseObject", "$interval"];
  AngApp.controller('ExternalController', ExternalController);
  return ExternalController;
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2tyaXNobmFyb2toYWxlL2NvZGUvbGV2ZWwvbGV2ZWwvcHJvamVjdHMvbW9zYWljZWQvcHVibGljL2phdmFzY3JpcHRzL2V4dGVybmFsQXBwL2NvbnRyb2xsZXJzL2V4dGVybmFsX2NvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvVXNlcnMva3Jpc2huYXJva2hhbGUvY29kZS9sZXZlbC9sZXZlbC9wcm9qZWN0cy9tb3NhaWNlZC9hc3NldHMvamF2YXNjcmlwdHMvZXh0ZXJuYWxBcHAvY29udHJvbGxlcnMvZXh0ZXJuYWxfY29udHJvbGxlci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBQSxDQUFPLENBQUUsa0JBQUYsRUFBcUIsV0FBckIsRUFBa0MsT0FBbEMsQ0FBUCxFQUFrRCxTQUFDLE1BQUQsR0FBQTtBQUVoRCxNQUFBLGtCQUFBO0FBQUEsRUFBQSxNQUFNLENBQUMsU0FBUCxDQUFrQixTQUFsQixFQUE0QjtJQUN6QixVQUR5QixFQUUxQixTQUFDLFFBQUQsR0FBQTthQUNFLFNBQUMsS0FBRCxFQUFRLE9BQVIsRUFBaUIsS0FBakIsR0FBQTtBQUNFLFFBQUEsS0FBSyxDQUFDLE1BQU4sQ0FBYSxDQUFDLFNBQUMsS0FBRCxHQUFBO2lCQUVaLEtBQUssQ0FBQyxLQUFOLENBQVksS0FBSyxDQUFDLE9BQWxCLEVBRlk7UUFBQSxDQUFELENBQWIsRUFHRyxTQUFDLEtBQUQsR0FBQTtBQUdELFVBQUEsT0FBTyxDQUFDLElBQVIsQ0FBYSxLQUFiLENBQUEsQ0FBQTtBQUFBLFVBS0EsUUFBQSxDQUFTLE9BQU8sQ0FBQyxRQUFSLENBQUEsQ0FBVCxDQUFBLENBQTZCLEtBQTdCLENBTEEsQ0FIQztRQUFBLENBSEgsQ0FBQSxDQURGO01BQUEsRUFERjtJQUFBLENBRjBCO0dBQTVCLENBQUEsQ0FBQTtBQUFBLEVBb0JNO0FBRVMsSUFBQSw0QkFBQyxNQUFELEVBQVMsZUFBVCxFQUEwQixPQUExQixFQUFt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TUFBTSxDQUFDLFdBQVAsR0FBcUIsS0FEckIsQ0FBQTtlQUVBLE1BQU0sQ0FBQyxpQkFBUCxDQUFBLEVBSGlCO01BQUEsQ0FwVm5CLENBQUE7QUFBQSxNQTJWQSxNQUFNLENBQUMsUUFBUCxHQUFrQixTQUFBLEdBQUE7QUFDaEIsUUFBQSxNQUFNLENBQUMsTUFBUCxHQUFnQixLQUFoQixDQUFBO0FBQUEsUUFDQSxNQUFNLENBQUMsV0FBUCxHQUFxQixLQURyQixDQUFBO2VBRUEsTUFBTSxDQUFDLGtCQUFQLENBQUEsRUFIZ0I7TUFBQSxDQTNWbEIsQ0FEVztJQUFBLENBQWI7OzhCQUFBOztNQXRCRixDQUFBO0FBQUEsRUF3YkEsa0JBQWtCLENBQUMsT0FBbkIsR0FBNkIsQ0FBRSxRQUFGLEVBQVksaUJBQVosRUFBK0IsU0FBL0IsRUFBMEMsVUFBMUMsRUFBc0QsUUFBdEQsRUFBZ0UsTUFBaEUsRUFBd0UsVUFBeEUsRUFBb0YsZ0JBQXBGLEVBQXNHLGlCQUF0RyxFQUF5SCxXQUF6SCxDQXhiN0IsQ0FBQTtBQUFBLEVBMmJBLE1BQU0sQ0FBQyxVQUFQLENBQW1CLG9CQUFuQixFQUF3QyxrQkFBeEMsQ0EzYkEsQ0FBQTtTQTZiQSxtQkEvYmdEO0FBQUEsQ0FBbEQsQ0FBQSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lIFsnZXh0ZXJuYWxBcHAvYmFzZScsJ2FuZ3VsYXJqcycsICdmYmFzZSddLCAoQW5nQXBwKSAtPlxuXG4gIEFuZ0FwcC5kaXJlY3RpdmUgJ2NvbXBpbGUnLCBbXG4gICAgJyRjb21waWxlJ1xuICAgICgkY29tcGlsZSkgLT5cbiAgICAgIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIC0+XG4gICAgICAgIHNjb3BlLiR3YXRjaCAoKHNjb3BlKSAtPlxuICAgICAgICAgICMgd2F0Y2ggdGhlICdjb21waWxlJyBleHByZXNzaW9uIGZvciBjaGFuZ2VzXG4gICAgICAgICAgc2NvcGUuJGV2YWwgYXR0cnMuY29tcGlsZVxuICAgICAgICApLCAodmFsdWUpIC0+XG4gICAgICAgICAgIyB3aGVuIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBjaGFuZ2VzXG4gICAgICAgICAgIyBhc3NpZ24gaXQgaW50byB0aGUgY3VycmVudCBET01cbiAgICAgICAgICBlbGVtZW50Lmh0bWwgdmFsdWVcbiAgICAgICAgICAjIGNvbXBpbGUgdGhlIG5ldyBET00gYW5kIGxpbmsgaXQgdG8gdGhlIGN1cnJlbnRcbiAgICAgICAgICAjIHNjb3BlLlxuICAgICAgICAgICMgTk9URTogd2Ugb25seSBjb21waWxlIC5jaGlsZE5vZGVzIHNvIHRoYXRcbiAgICAgICAgICAjIHdlIGRvbid0IGdldCBpbnRvIGluZmluaXRlIGxvb3AgY29tcGlsaW5nIG91cnNlbHZlc1xuICAgICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkgc2NvcGVcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgcmV0dXJuXG4gIF1cblxuICBjbGFzcyBFeHRlcm5hbENvbnRyb2xsZXJcblxuICAgIGNvbnN0cnVjdG9yOiAoJHNjb3BlLCBGaXJlYmFzZVNlcnZpY2UsICR3aW5kb3csICR0aW1lb3V0LCBVcGxvYWQsICRzY2UsICRjb21waWxlLCAkZmlyZWJhc2VBcnJheSwgJGZpcmViYXNlT2JqZWN0LCAkaW50ZXJ2YWwpIC0+XG4gICAgICBmaWxlcGlja2VyLnNldEtleSgnQTFMUDMzOEN3U3VhTm9pdEs2SUhWeicpXG4gICAgICAkc2NvcGUuem9vbWFibGUgPSBmYWxzZVxuICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBudWxsXG4gICAgICAkc2NvcGUuZG90SHRtbCA9ICcnXG4gICAgICAkc2NvcGUuZ2FtZXNJbmRleCA9ICRmaXJlYmFzZUFycmF5KEZpcmViYXNlU2VydmljZS5yb290UmVmLmNoaWxkKCdpbmRleGVzL2NhdGVnb3JpZXMnKSlcbiAgICAgICRzY29wZS5jcmVhdGVHYW1lUmVmID0gRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoJ2dhbWVzJykucHVzaCgpXG4gICAgICAkc2NvcGUuc3RlcFN0YXRlcyA9IHtzdGVwT25lOiB0cnVlLCBzdGVwVHdvOiBmYWxzZSwgc3RlcFRocmVlOiBmYWxzZX1cbiAgICAgICRzY29wZS5fID0gX1xuXG4gICAgICAjIGNhdGVnb3JpZXMgPSBbJ05ldXJvYW5hdG9teScsICdBYmRvbWVuICsgUGVsdmlzJywgJ1VwcGVyIExpbWInLCAnTG93ZXIgTGltYiBBbmF0b215JywgJ0hlYWQgYW5kIE5lY2sgQW5hdG9teScsICdUaG9yYXgnLCAnRXllcyBFYXJzLCBOb3NlLCBUaHJvYXQnLCBcbiAgICAgICMgJ0NhcmRpYWMgUGh5c2lvbG9neScsICdSZXNwaXJhdG9yeSBQaHlzaW9sb2d5JywgJ1JlbmFsIFBoeXNpb2xvZ3knLCAnR2FzdHJvaW50ZXN0aW5hbCBQaHlzaW9sb2d5JywgJ05ldXJvc2NpZW5jZScsICdSZXByb2R1Y3RpdmUgUGh5c2lvbG9neScsICdNdXNjbGUgUGh5c2lvbG9neScsXG4gICAgICAjICdFbmRyb2NyaW5lIFBoeXNpb2xvZ3knLCAnUGhhcm1hY29sb2d5JywgJ1BhdGhvbG9neScsICdHZW5ldGljcycsICdFbWJyeW9sb2d5JywgJ01pY3JvYmlvbG9neScsICdIaXN0b2xvZ3knLCAnSW1tdW5vbG9neScsICdBbmFzdGhldGljcycsICdCcmVhc3QgYW5kIEVuZG9jcmluZSBTdXJnZXJ5JyxcbiAgICAgICMgJ0NhcmRpb2xvZ3knLCAnQ2FyZGlvdGhvcmFjaWMgU3VyZ2VyeScsICdDb2xvcmVjdGFsIFN1cmdlcnknLCAnRGVybWF0b2xvZ3knLCAnRW1lcmdlbmN5IE1lZGljaW5lJywgJ0VuZG9jcmlub2xvZ3knLCAnRWFyLCBOb3NlIGFuZCBUaHJvYXQgU3VyZ2VyeScsICdHZW5lcmFsIFByYWN0aWNlKEZhbWlseSknLFxuICAgICAgIyAnR2FzdHJvZW50ZXJvbG9neScsICdHZW5lcmFsIFN1cmdlcnknLCAnR2VyaWF0cmljcycsICdIYWVtYXRvbG9neScsICdJbmZlY3Rpb3VzIERpc2Vhc2VzJywgJ0ludGVuc2l2ZSBDYXJlIE1lZGljaW5lJywgJ05lcGhyb2xvZ3knLCAnTmV1cm9zdXJnZXJ5JywgJ09ic3RldHJpY3MgYW5kIEd5bmVjb2xvZ3knLCBcbiAgICAgICMgJ09wdGhhbG1vbG9neScsICdPcnRob3BhZWRpYyBTdXJnZXJ5JywgJ1BhZWRpYXRyaWMgU3VyZ2VyeScsICdQbGFzdGljIFN1cmdlcnknLCAnUmVzcGlyYXRvcnkgTWVkaWNpbmUnLCAnUmFkaW9sb2d5JywgJ1BzeWNoaWF0cnknIF1cblxuICAgICAgIyBmb3IgY2F0IGluIGNhdGVnb3JpZXNcbiAgICAgICMgICByZWYgPSBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcImluZGV4ZXMvY2F0ZWdvcmllc1wiKS5wdXNoKClcbiAgICAgICMgICByZWYuc2V0IHtuYW1lOiBjYXR9XG4gICAgICAjICAgRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoXCJjYXRlZ29yaWVzLyN7cmVmLmtleSgpfVwiKS5zZXQge25hbWU6IGNhdH1cblxuICAgICAgIyByZWYxID0gRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoXCJpbmRleGVzL2NhdGVnb3JpZXNcIikucHVzaCgpXG4gICAgICAjIHJlZjIgPSBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcImluZGV4ZXMvY2F0ZWdvcmllc1wiKS5wdXNoKClcbiAgICAgICMgcmVmMS5zZXQge25hbWU6ICdOZXVyb2FuYXRvbXknfVxuICAgICAgIyByZWYyLnNldCB7bmFtZTogJ0FiZG9tZW4gKyBQZWx2aXMnfVxuICAgICAgIyBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcImNhdGVnb3JpZXMvI3tyZWYxLmtleSgpfVwiKS5zZXQge25hbWU6ICdOZXVyb2FuYXRvbXknfVxuICAgICAgIyBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcImNhdGVnb3JpZXMvI3tyZWYyLmtleSgpfVwiKS5zZXQge25hbWU6ICdBYmRvbWVuICsgUGVsdmlzJ31cblxuXG5cbiAgICAgICRzY29wZS5yZXNldEhlaWdodHMgPSAoKSAtPlxuICAgICAgICAkc2NvcGUucGFuZUhlaWdodE51bWJlciA9ICR3aW5kb3cuaW5uZXJIZWlnaHQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wLWJhci1tZW51Jykub2Zmc2V0SGVpZ2h0XG4gICAgICAgICRzY29wZS5wYW5lSGVpZ2h0ID0gJHNjb3BlLnBhbmVIZWlnaHROdW1iZXIgKyAncHgnXG4gICAgICAgIHN0ZXBIZWlnaHQgPSAoJHNjb3BlLnBhbmVIZWlnaHROdW1iZXIvMikgLSA0MCArICdweCdcbiAgICAgICAgJHNjb3BlLnN0ZXBTdHlsZSA9IHsnbWF4LWhlaWdodCc6IHN0ZXBIZWlnaHQsICdtaW4taGVpZ2h0Jzogc3RlcEhlaWdodCwgb3ZlcmZsb3c6ICdzY3JvbGwnfVxuICAgICAgICAkc2NvcGUuYXBwU3R5bGUgPSB7J21heC1oZWlnaHQnOiAkd2luZG93LmlubmVySGVpZ2h0KydweCcsICdtaW4taGVpZ2h0JzogJHdpbmRvdy5pbm5lckhlaWdodCsncHgnLCBvdmVyZmxvdzogJ3Njcm9sbCd9XG4gICAgICAgICRzY29wZS5wYW5lU3R5bGUgPSB7J21heC1oZWlnaHQnOiAkc2NvcGUucGFuZUhlaWdodCwgJ21pbi1oZWlnaHQnOiAkc2NvcGUucGFuZUhlaWdodCwgb3ZlcmZsb3c6ICdzY3JvbGwnfVxuXG4gICAgICAkc2NvcGUucmVzZXRIZWlnaHRzKClcblxuXG4gICAgICAkc2NvcGUuJHdhdGNoICdjcmVhdGVGaWxlJywgLT5cbiAgICAgICAgaWYgJHNjb3BlLmNyZWF0ZUZpbGUgIT0gbnVsbFxuICAgICAgICAgICRzY29wZS51cGxvYWQoJHNjb3BlLmNyZWF0ZUZpbGUpXG5cbiAgICAgICRzY29wZS51cGxvYWQgPSAoZmlsZSkgLT5cbiAgICAgICAgVXBsb2FkLnVwbG9hZChcbiAgICAgICAgICAjIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91cGxvYWQnXG4gICAgICAgICAgIyB1cmw6ICdodHRwOi8vbW9zYWljZWQubm9kZWxhYnMuaW4vdXBsb2FkJ1xuICAgICAgICAgIHVybDogJ2h0dHA6Ly8xMjguMTk5LjIzNS4xOTEvdXBsb2FkJ1xuICAgICAgICAgICMgdXJsOiAnaHR0cDovLzI3MWY5YzI5Lm5ncm9rLmlvL3VwbG9hZCdcbiAgICAgICAgICBkYXRhOlxuICAgICAgICAgICAgZmlsZTogZmlsZSlcbiAgICAgICAgLnByb2dyZXNzKChldnQpIC0+XG4gICAgICAgICAgcHJvZ3Jlc3NQZXJjZW50YWdlID0gcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKVxuICAgICAgICAgICRzY29wZS5wcm9ncmVzc1N0eWxlID0geyd3aWR0aCc6IFwiI3twcm9ncmVzc1BlcmNlbnRhZ2V9JVwifVxuICAgICAgICApLnN1Y2Nlc3MgKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSAtPlxuICAgICAgICAgIGlmIGRhdGEuc3VjY2Vzc1xuICAgICAgICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVSZWYuY2hpbGQoJ2ltYWdlJykuc2V0IGRhdGEudXJsXG4gICAgICAgICAgICAgICRzY29wZS5wcmV2aWV3VXJsID0gZGF0YS51cmxcblxuICAgICAgXG4gICAgICAkc2NvcGUucmVtb3ZlSW1hZ2VQcmV2aWV3ID0gKCkgLT5cbiAgICAgICAgJHNjb3BlLnByZXZpZXdVcmwgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAkc2NvcGUucHJvZ3Jlc3NTdHlsZSA9IHsnd2lkdGgnOiAnMCUnfVxuICAgICAgICAkc2NvcGUuY3JlYXRlR2FtZVJlZi5jaGlsZCgnaW1hZ2UnKS5zZXQgbnVsbFxuICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgICAkc2NvcGUudG9nZ2xlUGFuZSA9IChwYW5lKSAtPlxuICAgICAgICBpZiBwYW5lID09ICdDcmVhdGUnXG4gICAgICAgICAgJHNjb3BlLnNob3dQbGF5UGFuZSA9IGZhbHNlXG4gICAgICAgICAgJHNjb3BlLnNob3dDcmVhdGVQYW5lID0gdHJ1ZVxuXG4gICAgICAgICAgJHNjb3BlLmFjdGl2ZUNyZWF0ZVBhbmUgPSAnc3RhcnQnXG4gICAgICAgIGVsc2UgaWYgcGFuZSA9PSAnUGxheSdcbiAgICAgICAgICAkc2NvcGUuc2hvd1BsYXlQYW5lID0gdHJ1ZVxuICAgICAgICAgICRzY29wZS5zaG93Q3JlYXRlUGFuZSA9IGZhbHNlXG5cbiAgICAgICAgICAkc2NvcGUucGxheUdhbWVPcHRpb25zID0gdHJ1ZVxuICAgICAgICAgICRzY29wZS5wbGF5R2FtZVNjcmVlbiA9IGZhbHNlXG4gICAgICAgICAgXG4gICAgICAkc2NvcGUudG9nZ2xlUGFuZSgnUGxheScpICAgIFxuXG4gICAgICAkc2NvcGUubmV4dENyZWF0ZVBhbmUgPSAocGFuZSkgLT5cbiAgICAgICAgaWYgcGFuZSA9PSAnc3RhcnQnXG4gICAgICAgICAgaWYgJHNjb3BlLmNyZWF0ZUdhbWVOYW1lIGFuZCAkc2NvcGUuYWN0aXZlQ3JlYXRlQ2F0ZWdvcnlcbiAgICAgICAgICAgIEZpcmViYXNlU2VydmljZS5yb290UmVmLmNoaWxkKFwiaW5kZXhlcy9jYXRlZ29yaWVzLyN7JHNjb3BlLmFjdGl2ZUNyZWF0ZUNhdGVnb3J5LiRpZH0vZ2FtZXMvI3skc2NvcGUuY3JlYXRlR2FtZVJlZi5rZXkoKX1cIikuc2V0IHtuYW1lOiAkc2NvcGUuY3JlYXRlR2FtZU5hbWUsIGxpdmU6IGZhbHNlfVxuXG4gICAgICAgICAgICAkc2NvcGUuc3RlcFN0YXRlcy5zdGVwVHdvID0gdHJ1ZVxuICAgICAgICAgICAgJHNjb3BlLmFjdGl2ZUNyZWF0ZVBhbmUgPSAndXBsb2FkJ1xuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVEb3RzID0gJGZpcmViYXNlQXJyYXkoJHNjb3BlLmNyZWF0ZUdhbWVSZWYuY2hpbGQoJ2RvdHMnKSlcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVHYW1lU3luYyA9ICRmaXJlYmFzZU9iamVjdCgkc2NvcGUuY3JlYXRlR2FtZVJlZilcbiAgICAgICAgZWxzZSBpZiBwYW5lID09ICd1cGxvYWQnXG4gICAgICAgICAgaWYgJHNjb3BlLnByZXZpZXdVcmxcbiAgICAgICAgICAgICRzY29wZS5hY3RpdmVDcmVhdGVQYW5lID0gJ21hcmsnXG4gICAgICAgICAgICBhbGVydCAnUGxlYXNlIGNsaWNrIG9uIHRoZSBpbWFnZSBhbmQgYWRkIHF1ZXN0aW9ucyBub3cnXG4gICAgICAgICAgICAjICRzY29wZS5jcmVhdGVJbWFnZVN0eWxlID0geydiYWNrZ3JvdW5kLWltYWdlJzogXCJ1cmwoI3skc2NvcGUucHJldmlld1VybH0pXCIsICdiYWNrZ3JvdW5kLXNpemUnOiAnY29udGFpbicsICdiYWNrZ3JvdW5kLXJlcGVhdCc6ICduby1yZXBlYXQnLCAnd2lkdGgnOiAnMTAwJScsICdoZWlnaHQnOiAkc2NvcGUucHJldmlld1VybEhlaWdodH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBhbGVydCAnUGxlYXNlIGNob29zZSBhbiBpbWFnZSBmaXJzdC4nICBcbiAgICAgICAgZWxzZSBpZiBwYW5lID09ICdtYXJrJ1xuICAgICAgICAgIGlmICRzY29wZS5jcmVhdGVHYW1lRG90cy5sZW5ndGggPiAwXG4gICAgICAgICAgICAkc2NvcGUuc3RlcFN0YXRlcy5zdGVwVGhyZWUgPSB0cnVlXG4gICAgICAgICAgICAkc2NvcGUuYWN0aXZlQ3JlYXRlUGFuZSA9ICdzZXR0aW5ncydcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBhbGVydCAnUGxlYXNlIGFkZCBhdGxlYXN0IDEgcXVlc3Rpb24uJyAgXG4gICAgICAgICAgICAgIFxuICAgICAgICBcblxuICAgICAgJHNjb3BlLnByZXZDcmVhdGVQYW5lID0gKHBhbmUpIC0+ICAgXG4gICAgICAgIGlmIHBhbmUgPT0gJ3VwbG9hZCdcbiAgICAgICAgICAkc2NvcGUuc3RlcFN0YXRlcyA9IHtzdGVwT25lOiB0cnVlLCBzdGVwVHdvOiBmYWxzZSwgc3RlcFRocmVlOiBmYWxzZX1cbiAgICAgICAgICAkc2NvcGUuYWN0aXZlQ3JlYXRlUGFuZSA9ICdzdGFydCdcbiAgICAgICAgZWxzZSBpZiBwYW5lID09ICdtYXJrJ1xuICAgICAgICAgICRzY29wZS5hY3RpdmVDcmVhdGVQYW5lID0gJ3VwbG9hZCdcbiAgICAgICAgZWxzZSBpZiBwYW5lID09ICdzZXR0aW5ncydcbiAgICAgICAgICAkc2NvcGUuc3RlcFN0YXRlcyA9IHtzdGVwT25lOiB0cnVlLCBzdGVwVHdvOiB0cnVlLCBzdGVwVGhyZWU6IGZhbHNlfVxuICAgICAgICAgICRzY29wZS5hY3RpdmVDcmVhdGVQYW5lID0gJ21hcmsnICAgICAgIFxuXG4gICAgICAgICAgICBcblxuXG4gICAgICAkc2NvcGUucHJldmlld0NhbnZhc0NsaWNrID0gKGV2ZW50KSAtPlxuICAgICAgICBcbiAgICAgICAgeSA9IGV2ZW50Lm9mZnNldFlcbiAgICAgICAgeCA9IGV2ZW50Lm9mZnNldFhcbiAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVRdWVzdGlvbiA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICB0b3AgPSB5IC0gMjAgKyAncHgnICBcbiAgICAgICAgbGVmdCA9IHggKyA0MCArICdweCdcbiAgICAgICAgJHNjb3BlLmNyZWF0ZVF1ZXN0aW9uQm94U3R5bGUgPSB7J3RvcCc6IHRvcCwgbGVmdDogbGVmdH0gIFxuICAgICAgICBcbiAgICAgICAgcmVmID0gJHNjb3BlLmNyZWF0ZUdhbWVSZWYuY2hpbGQoJ2RvdHMnKS5wdXNoKClcbiAgICAgICAgcmVmLnNldCB7eDogeCwgeTogeX1cbiAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVBY3RpdmVEb3RJZCA9IHJlZi5rZXkoKVxuXG5cbiAgICAgICRzY29wZS5jaGFuZ2VEb3QgPSAoZG90KSAtPlxuICAgICAgICAkc2NvcGUuY3JlYXRlR2FtZVF1ZXN0aW9uID0gbnVsbFxuICAgICAgICAkc2NvcGUuY3JlYXRlR2FtZUFjdGl2ZURvdElkID0gZG90LiRpZFxuICAgICAgICAkc2NvcGUuY3JlYXRlR2FtZVF1ZXN0aW9uID0gZG90LnF1ZXN0aW9uXG4gICAgICAgIHkgPSBkb3QueVxuICAgICAgICB4ID0gZG90LnhcbiAgICAgICAgdG9wID0geSAtIDIwICsgJ3B4JyAgXG4gICAgICAgIGxlZnQgPSB4ICsgNDAgKyAncHgnXG4gICAgICAgICRzY29wZS5jcmVhdGVRdWVzdGlvbkJveFN0eWxlID0geyd0b3AnOiB0b3AsIGxlZnQ6IGxlZnR9ICBcblxuICAgICAgJHNjb3BlLmFkZFF1ZXN0aW9uID0gKCkgIC0+XG4gICAgICAgICRzY29wZS5jcmVhdGVHYW1lUmVmLmNoaWxkKFwiZG90cy8jeyRzY29wZS5jcmVhdGVHYW1lQWN0aXZlRG90SWR9L3F1ZXN0aW9uXCIpLnNldCAkc2NvcGUuY3JlYXRlR2FtZVF1ZXN0aW9uXG4gICAgICAgICRzY29wZS5jcmVhdGVRdWVzdGlvbkJveFN0eWxlID0gbnVsbFxuXG5cbiAgICAgICRzY29wZS5yZW1vdmVRdWVzdGlvbiA9ICgpIC0+XG4gICAgICAgICRzY29wZS5jcmVhdGVHYW1lUmVmLmNoaWxkKFwiZG90cy8jeyRzY29wZS5jcmVhdGVHYW1lQWN0aXZlRG90SWR9XCIpLnNldCBudWxsIFxuICAgICAgICAkc2NvcGUuY3JlYXRlR2FtZVF1ZXN0aW9uID0gbnVsbFxuICAgICAgICAkc2NvcGUuY3JlYXRlUXVlc3Rpb25Cb3hTdHlsZSA9IG51bGxcblxuXG4gICAgICAkc2NvcGUuc2V0Q3JlYXRlT3B0aW9ucyA9IChvcHRpb24sdmFsLCB0ZXh0KSAgLT5cbiAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVSZWYuY2hpbGQoXCJzZXR0aW5ncy8je29wdGlvbn1cIikuc2V0IHt2YWw6IHZhbCwgdGV4dDogdGV4dH1cblxuICAgICAgJHNjb3BlLmZpbmlzaENyZWF0ZSA9ICgpIC0+XG4gICAgICAgIGlmICRzY29wZS5jcmVhdGVHYW1lU3luYy5zZXR0aW5nc1xuICAgICAgICAgIGlmICRzY29wZS5jcmVhdGVHYW1lU3luYy5zZXR0aW5ncy5jaGFuY2VzXG4gICAgICAgICAgICBpZiAkc2NvcGUuY3JlYXRlR2FtZVN5bmMuc2V0dGluZ3MudGltZXJcbiAgICAgICAgICAgICAgRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoXCJpbmRleGVzL2NhdGVnb3JpZXMvI3skc2NvcGUuYWN0aXZlQ3JlYXRlQ2F0ZWdvcnkuJGlkfS9nYW1lcy8jeyRzY29wZS5jcmVhdGVHYW1lUmVmLmtleSgpfS9saXZlXCIpLnNldCB0cnVlXG4gICAgICAgICAgICAgICRzY29wZS50b2dnbGVQYW5lKCdQbGF5JylcbiAgICAgICAgICAgICAgJHNjb3BlLmFjdGl2ZUNyZWF0ZVBhbmUgPSAnc3RhcnQnXG4gICAgICAgICAgICAgICRzY29wZS5jcmVhdGVHYW1lTmFtZSA9IG51bGxcbiAgICAgICAgICAgICAgJHNjb3BlLmFjdGl2ZUNyZWF0ZUNhdGVnb3J5ID0gbnVsbFxuICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlR2FtZVJlZiA9IEZpcmViYXNlU2VydmljZS5yb290UmVmLmNoaWxkKCdnYW1lcycpLnB1c2goKVxuICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlUXVlc3Rpb25Cb3hTdHlsZSA9IG51bGxcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgYWxlcnQgJ1BsZWFzZSBjb21wbGV0ZSB0aGUgc2V0dGluZ3MnICAgIFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGFsZXJ0ICdQbGVhc2UgY29tcGxldGUgdGhlIHNldHRpbmdzJyAgICAgIFxuICAgICAgICBlbHNlXG4gICAgICAgICAgYWxlcnQgJ1BsZWFzZSBjb21wbGV0ZSB0aGUgc2V0dGluZ3MnICBcblxuXG4gICAgICAkc2NvcGUuY2hhbmdlQ3JlYXRlQ2F0ZWdvcnkgPSAoY2F0ZWdvcnkpIC0+XG4gICAgICAgICRzY29wZS5hY3RpdmVDcmVhdGVDYXRlZ29yeSA9IGNhdGVnb3J5XG5cbiAgICAgICRzY29wZS5jaGFuZ2VQbGF5Q2F0ZWdvcnkgPSAoY2F0ZWdvcnkpIC0+XG4gICAgICAgICRzY29wZS5hY3RpdmVQbGF5Q2F0ZWdvcnkgPSBjYXRlZ29yeVxuXG4gICAgICAkc2NvcGUuY2hhbmdlUGxheUdhbWUgPSAoZ2FtZSwgZ2FtZUlkKSAtPlxuICAgICAgICAkc2NvcGUuYWN0aXZlUGxheUdhbWUgPSBnYW1lXG4gICAgICAgICRzY29wZS5hY3RpdmVQbGF5R2FtZUlkID0gZ2FtZUlkXG5cbiAgICAgICRzY29wZS50cmlnZ2VyR2FtZVNjcmVlbiA9ICgpIC0+XG4gICAgICAgIGlmICRzY29wZS5hY3RpdmVQbGF5Q2F0ZWdvcnkgYW5kICRzY29wZS5hY3RpdmVQbGF5R2FtZVxuICAgICAgICAgICRzY29wZS5wbGF5R2FtZU9wdGlvbnMgPSBmYWxzZVxuICAgICAgICAgICRzY29wZS5wbGF5R2FtZVNjcmVlbiA9IHRydWVcbiAgICAgICAgICAkc2NvcGUucGxheUdhbWVSZWYgPSBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcImdhbWVzLyN7JHNjb3BlLmFjdGl2ZVBsYXlHYW1lSWR9XCIpXG4gICAgICAgICAgJHNjb3BlLnBsYXlHYW1lU3luYyA9ICRmaXJlYmFzZU9iamVjdCgkc2NvcGUucGxheUdhbWVSZWYpXG5cbiAgICAgICAgICAjICRzY29wZS5zY29yZXNSZWYgPSBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcInNjb3Jlcy8jeyRzY29wZS5hY3RpdmVQbGF5R2FtZUlkfVwiKS5wdXNoKClcbiAgICAgICAgICAkc2NvcGUubWlsaUNvdW50ZXIgPSAwXG4gICAgICAgICAgJHNjb3BlLnNlY0NvdW50ZXIgPSAwXG4gICAgICAgICAgJHNjb3BlLm1pbkNvdW50ZXIgPSAwXG5cbiAgICAgICAgICAkc2NvcGUucGxheUdhbWVTeW5jLiRsb2FkZWQgKHgpIC0+XG4gICAgICAgICAgICBpZiB4XG4gICAgICAgICAgICAgICR0aW1lb3V0IC0+XG4gICAgICAgICAgICAgICAgcXVlc3Rpb25zID0gW11cbiAgICAgICAgICAgICAgICAkc2NvcGUuZ3Vlc3Nlc0xlZnQgPSBPYmplY3Qua2V5cygkc2NvcGUucGxheUdhbWVTeW5jLmRvdHMpLmxlbmd0aFxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCAkc2NvcGUucGxheUdhbWVTeW5jLmRvdHMsICh2YWwsa2V5KSAtPlxuICAgICAgICAgICAgICAgICAgcXVlc3Rpb25zLnB1c2gge2tleToga2V5LCB2YWw6IHZhbH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5xdWVzdGlvbnNBcnJheSA9IF8uc2h1ZmZsZShxdWVzdGlvbnMpXG4gICAgICAgICAgICAgICAgJHNjb3BlLnF1ZXN0aW9uc0FycmF5TGVuZ3RoID0gcXVlc3Rpb25zLmxlbmd0aFxuICAgICAgICAgICAgICAgICRzY29wZS5hbnN3ZXJzQXJyYXkgPSBbXVxuICAgICAgICAgICAgICAgICRzY29wZS5jb3JyZWN0U2NvcmUgPSAwXG4gICAgICAgICAgICAgICAgJHNjb3BlLndyb25nU2NvcmUgPSAwXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFuc3dlclBlcmNlbnQgPSAwXG5cblxuXG4gICAgICAkc2NvcGUudHJpZ2dlckdhbWVPcHRpb25zID0gKCkgLT5cbiAgICAgICAgJHNjb3BlLnBsYXlHYW1lT3B0aW9ucyA9IHRydWVcbiAgICAgICAgJHNjb3BlLnBsYXlHYW1lU2NyZWVuID0gZmFsc2VcbiAgICAgICAgJHNjb3BlLnBsYXlHYW1lUmVmID0gbnVsbFxuICAgICAgICAkc2NvcGUucGxheUdhbWVTeW5jLiRkZXN0cm95KCkgaWYgJHNjb3BlLnBsYXlHYW1lU3luY1xuXG5cbiAgICAgICRzY29wZS5ib290R2FtZSA9ICgpIC0+XG4gICAgICAgICRzY29wZS5nYW1lT24gPSB0cnVlXG4gICAgICAgIFxuICAgICAgICBcblxuICAgICAgICAkc2NvcGUubWlsaVByb21pc2UgPSAkaW50ZXJ2YWwgLT5cbiAgICAgICAgICBpZiAkc2NvcGUubWlsaUNvdW50ZXIgPT0gOVxuICAgICAgICAgICAgJHNjb3BlLm1pbGlDb3VudGVyID0gMFxuICAgICAgICAgIGVsc2UgIFxuICAgICAgICAgICAgJHNjb3BlLm1pbGlDb3VudGVyID0gJHNjb3BlLm1pbGlDb3VudGVyICsgMSAgICBcbiAgICAgICAgLCAxMDAgIFxuICAgICAgICAkc2NvcGUuc2VjUHJvbWlzZSA9ICRpbnRlcnZhbCAtPlxuICAgICAgICAgIGlmICRzY29wZS5zZWNDb3VudGVyID09IDU5XG4gICAgICAgICAgICAkc2NvcGUuc2VjQ291bnRlciA9IDBcbiAgICAgICAgICBlbHNlICBcbiAgICAgICAgICAgICRzY29wZS5zZWNDb3VudGVyID0gJHNjb3BlLnNlY0NvdW50ZXIgKyAxXG5cbiAgICAgICAgICAkc2NvcGUuZXZhbFRpbWVyU2V0dGluZ3MoKSAgXG4gICAgICAgICwgMTAwMFxuICAgICAgICAkc2NvcGUubWluUHJvbWlzZSA9ICRpbnRlcnZhbCAtPlxuICAgICAgICAgICRzY29wZS5taW5Db3VudGVyID0gJHNjb3BlLm1pbkNvdW50ZXIgKyAxXG4gICAgICAgICwgNjAwMDAgICBcblxuICAgICAgJHNjb3BlLmRpc2FibGVNb2RhbCA9ICgpIC0+XG4gICAgICAgICRzY29wZS5lbmFibGVNb2RhbCA9IGZhbHNlXG4gICAgICAgICAgXG5cbiAgICAgICRzY29wZS5ldmFsVGltZXJTZXR0aW5ncyA9ICgpIC0+XG4gICAgICAgIHRoZVZhbCA9IHBhcnNlSW50KCRzY29wZS5wbGF5R2FtZVN5bmMuc2V0dGluZ3MudGltZXIudmFsKS8xMDAwXG4gICAgICAgIGN1cnJlbnRTZWNvbmRzID0gJHNjb3BlLm1pbkNvdW50ZXIqNjAgKyAkc2NvcGUuc2VjQ291bnRlclxuICAgICAgICBpZiB0aGVWYWwgPT0gY3VycmVudFNlY29uZHNcbiAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5taWxpUHJvbWlzZSlcbiAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5zZWNQcm9taXNlKVxuICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pblByb21pc2UpXG4gICAgICAgICAgJHNjb3BlLnVuaXF1ZUNvZGUgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgJHNjb3BlLmVuYWJsZU1vZGFsID0gdHJ1ZVxuXG5cblxuICAgICAgJHNjb3BlLmV2YWxEb3QgPSAoZG90LCBkb3RJZCkgLT5cbiAgICAgICAgdW5sZXNzIF8uY29udGFpbnMoJHNjb3BlLmFuc3dlcnNBcnJheSwgZG90SWQpXG4gICAgICAgICAgaWYgZG90SWQgPT0gJHNjb3BlLnF1ZXN0aW9uc0FycmF5WzBdLmtleVxuICAgICAgICAgICAgJHNjb3BlLmNvcnJlY3RTY29yZSA9ICRzY29wZS5jb3JyZWN0U2NvcmUgKyAxXG4gICAgICAgICAgICAkc2NvcGUuZ3Vlc3Nlc0xlZnQgPSAkc2NvcGUuZ3Vlc3Nlc0xlZnQgLSAxXG4gICAgICAgICAgICAkc2NvcGUucXVlc3Rpb25zQXJyYXkuc3BsaWNlKDAsIDEpXG4gICAgICAgICAgICAkc2NvcGUuYW5zd2Vyc0FycmF5LnB1c2ggZG90SWRcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAkc2NvcGUud3JvbmdTY29yZSA9ICRzY29wZS53cm9uZ1Njb3JlICsgMVxuICAgICAgICAgICRzY29wZS5hbnN3ZXJQZXJjZW50ID0gKCgkc2NvcGUuY29ycmVjdFNjb3JlLygkc2NvcGUuY29ycmVjdFNjb3JlKyRzY29wZS53cm9uZ1Njb3JlKSkqMTAwKS50b0ZpeGVkKDIpXG5cbiAgICAgICAgICBpZiAkc2NvcGUucXVlc3Rpb25zQXJyYXkubGVuZ3RoID09IDBcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pbGlQcm9taXNlKVxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUuc2VjUHJvbWlzZSlcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pblByb21pc2UpXG4gICAgICAgICAgICAkc2NvcGUudW5pcXVlQ29kZSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgICRzY29wZS5lbmFibGVNb2RhbCA9IHRydWVcblxuICAgICAgICAkc2NvcGUuZXZhbENoYW5jZVNldHRpbmdzKClcbiAgICAgICAgICAgIFxuXG4gICAgICAkc2NvcGUuZXZhbENoYW5jZVNldHRpbmdzID0gKCkgLT5cbiAgICAgICAgaWYgJHNjb3BlLnBsYXlHYW1lU3luYy5zZXR0aW5ncy5jaGFuY2VzLnZhbCA9PSAnYXNNYW55J1xuICAgICAgICAgIGlmICRzY29wZS5xdWVzdGlvbnNBcnJheUxlbmd0aCA9PSAkc2NvcGUuY29ycmVjdFNjb3JlICsgJHNjb3BlLndyb25nU2NvcmVcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pbGlQcm9taXNlKVxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUuc2VjUHJvbWlzZSlcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pblByb21pc2UpXG4gICAgICAgICAgICAkc2NvcGUudW5pcXVlQ29kZSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgICRzY29wZS5lbmFibGVNb2RhbCA9IHRydWVcbiAgICAgICAgICAgICAgXG4gICAgICAgIGVsc2UgaWYgJHNjb3BlLnBsYXlHYW1lU3luYy5zZXR0aW5ncy5jaGFuY2VzLnZhbCA9PSAnZmlyc3RXcm9uZydcbiAgICAgICAgICBpZiAkc2NvcGUud3JvbmdTY29yZSA9PSAxXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5taWxpUHJvbWlzZSlcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLnNlY1Byb21pc2UpXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5taW5Qcm9taXNlKVxuICAgICAgICAgICAgJHNjb3BlLnVuaXF1ZUNvZGUgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICAkc2NvcGUuZW5hYmxlTW9kYWwgPSB0cnVlXG4gICAgICAgIGVsc2UgaWYgJHNjb3BlLnBsYXlHYW1lU3luYy5zZXR0aW5ncy5jaGFuY2VzLnZhbCA9PSAnc2Vjb25kV3JvbmcnICAgIFxuICAgICAgICAgIGlmICRzY29wZS53cm9uZ1Njb3JlID09IDJcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pbGlQcm9taXNlKVxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUuc2VjUHJvbWlzZSlcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pblByb21pc2UpXG4gICAgICAgICAgICAkc2NvcGUudW5pcXVlQ29kZSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgICRzY29wZS5lbmFibGVNb2RhbCA9IHRydWVcbiAgICAgICAgZWxzZSBpZiAkc2NvcGUucGxheUdhbWVTeW5jLnNldHRpbmdzLmNoYW5jZXMudmFsID09ICd0aGlyZFdyb25nJyAgICBcbiAgICAgICAgICBpZiAkc2NvcGUud3JvbmdTY29yZSA9PSAzXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5taWxpUHJvbWlzZSlcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLnNlY1Byb21pc2UpXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5taW5Qcm9taXNlKVxuICAgICAgICAgICAgJHNjb3BlLnVuaXF1ZUNvZGUgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICAkc2NvcGUuZW5hYmxlTW9kYWwgPSB0cnVlICBcblxuICAgICAgICAgICAgICBcblxuXG5cblxuXG5cbiAgICAgICRzY29wZS5zdWJtaXRTY29yZSA9IChzY29yZUZpcnN0TmFtZSwgc2NvcmVMYXN0TmFtZSkgLT5cbiAgICAgICAgaWYgc2NvcmVGaXJzdE5hbWUgYW5kIHNjb3JlTGFzdE5hbWVcbiAgICAgICAgICAjIHRvdGFsVGltZSA9ICRzY29wZS5taWxpQ291bnRlcioxMDAgKyAkc2NvcGUuc2VjQ291bnRlcioxMDAwICsgJHNjb3BlLm1pbkNvdW50ZXIqNjAqMTAwMFxuICAgICAgICAgIHRvdGFsVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYwMCkgKyAxICBcbiAgICAgICAgICBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcInNjb3Jlcy8jeyRzY29wZS5hY3RpdmVQbGF5R2FtZUlkfVwiKS5wdXNoKCkuc2V0IHt1bmlxdWVDb2RlOiAkc2NvcGUudW5pcXVlQ29kZSwgdG90YWxUaW1lOiB0b3RhbFRpbWUsIGZpcnN0TmFtZTogc2NvcmVGaXJzdE5hbWUsIGxhc3ROYW1lOiBzY29yZUxhc3ROYW1lLCBjb3JyZWN0OiAkc2NvcGUuY29ycmVjdFNjb3JlLCB3cm9uZzogJHNjb3BlLmNvcnJlY3RTY29yZSwgYW5zd2VyUGVyY2VudDogJHNjb3BlLmFuc3dlclBlcmNlbnR9XG4gICAgICAgICAgaWYgJHNjb3BlLndyb25nU2NvcmUgPT0gMFxuICAgICAgICAgICAgRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoXCJ0b3BTY29yZXMvI3skc2NvcGUuYWN0aXZlUGxheUdhbWVJZH1cIikucHVzaCgpLnNldCB7dW5pcXVlQ29kZTogJHNjb3BlLnVuaXF1ZUNvZGUsIHRvdGFsVGltZTogdG90YWxUaW1lLCBmaXJzdE5hbWU6IHNjb3JlRmlyc3ROYW1lLCBsYXN0TmFtZTogc2NvcmVMYXN0TmFtZSwgY29ycmVjdDogJHNjb3BlLmNvcnJlY3RTY29yZSwgd3Jvbmc6ICRzY29wZS5jb3JyZWN0U2NvcmUsIGFuc3dlclBlcmNlbnQ6ICRzY29wZS5hbnN3ZXJQZXJjZW50fVxuICAgICAgICAgICAgRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoXCJ1bmlxdWVDb2RlUmVmZXJlbmNlLyN7JHNjb3BlLnVuaXF1ZUNvZGV9XCIpLnNldCB7dW5pcXVlQ29kZTogJHNjb3BlLnVuaXF1ZUNvZGUsIHRvdGFsVGltZTogdG90YWxUaW1lLCBmaXJzdE5hbWU6IHNjb3JlRmlyc3ROYW1lLCBsYXN0TmFtZTogc2NvcmVMYXN0TmFtZSwgY29ycmVjdDogJHNjb3BlLmNvcnJlY3RTY29yZSwgd3Jvbmc6ICRzY29wZS5jb3JyZWN0U2NvcmUsIGFuc3dlclBlcmNlbnQ6ICRzY29wZS5hbnN3ZXJQZXJjZW50fVxuXG4gICAgICAgICAgJHNjb3BlLnNob3dTY29yZXMgPSB0cnVlIFxuICAgICAgICAgICRzY29wZS5jdXJyZW50SGlnaFNjb3JlcyA9ICRmaXJlYmFzZUFycmF5KEZpcmViYXNlU2VydmljZS5yb290UmVmLmNoaWxkKFwidG9wU2NvcmVzLyN7JHNjb3BlLmFjdGl2ZVBsYXlHYW1lSWR9XCIpLm9yZGVyQnlDaGlsZCgndG90YWxUaW1lJykubGltaXRUb0ZpcnN0KDEwKSkgXG5cblxuXG4gICAgICAkc2NvcGUucGxheUFnYWluID0gKCkgLT5cbiAgICAgICAgJHNjb3BlLmdhbWVPbiA9IGZhbHNlXG4gICAgICAgICRzY29wZS5lbmFibGVNb2RhbCA9IGZhbHNlXG4gICAgICAgICRzY29wZS50cmlnZ2VyR2FtZVNjcmVlbigpXG5cblxuXG4gICAgICAkc2NvcGUuZ2FtZU1lbnUgPSAoKSAtPlxuICAgICAgICAkc2NvcGUuZ2FtZU9uID0gZmFsc2VcbiAgICAgICAgJHNjb3BlLmVuYWJsZU1vZGFsID0gZmFsc2VcbiAgICAgICAgJHNjb3BlLnRyaWdnZXJHYW1lT3B0aW9ucygpXG5cblxuXG4gICAgICAgICAgXG4gICAgICAgICAgXG4gICAgICAgICBcbiAgICAgICAgICBcbiAgICAgICAgXG4gICAgICAgICAgXG4gICAgICAgIFxuXG5cbiAgICAgICMgJHNjb3BlLnVwbG9hZEZpbGUgPSAoKSAtPiAgICBcbiAgICAgICMgICAkc2NvcGUuc2hvd0Ryb3BQYW5lID0gdHJ1ZVxuICAgICAgIyAgIGZpbGVwaWNrZXIubWFrZURyb3BQYW5lIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wLXBhbmUnKSxcbiAgICAgICMgICAgIG11bHRpcGxlOiBmYWxzZVxuICAgICAgIyAgICAgZHJhZ0VudGVyOiAtPlxuICAgICAgIyAgICAgICBvYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcC1wYW5lJylcbiAgICAgICMgICAgICAgb2JqLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZWVlJ1xuICAgICAgIyAgICAgZHJhZ0xlYXZlOiAtPlxuICAgICAgIyAgICAgICBvYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcC1wYW5lJylcbiAgICAgICMgICAgICAgb2JqLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZmZmJ1xuICAgICAgIyAgICAgb25TdWNjZXNzOiAoQmxvYnMpIC0+XG4gICAgICAjICAgICAgIGNvbnNvbGUubG9nIEpTT04uc3RyaW5naWZ5KEJsb2JzKVxuXG4gICAgICAjICAgICAgICMgb2JqID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLWF0dGFjaG1lbnRzJylcbiAgICAgICMgICAgICAgIyBvYmouc3R5bGUud2lkdGggPSBcIjAlXCJcbiAgICAgICMgICAgICAgIyBmaW5hbEJsb2JzID0gW11cbiAgICAgICMgICAgICAgIyBmb3IgYmxvYiBpbiBCbG9ic1xuICAgICAgIyAgICAgICAgICMgZGVsZXRlIGJsb2Iua2V5XG4gICAgICAjICAgICAgICAgIyBmaW5hbEJsb2JzLnB1c2ggYmxvYlxuICAgICAgIyAgICAgICBjb25zb2xlLmxvZyBCbG9ic1xuICAgICAgIyAgICAgICAkdGltZW91dCAtPlxuICAgICAgIyAgICAgICAgICRzY29wZS5zaG93RHJvcFBhbmUgPSBmYWxzZVxuICAgICAgIyAgICAgICAgICRzY29wZS5zaG93SW1hZ2VQcmV2aWV3ID0gdHJ1ZVxuICAgICAgIyAgICAgICAgICRzY29wZS5wcmV2aWV3VXJsID0gQmxvYnNbMF0udXJsXG4gICAgICAjICAgICAgICAgaW1nID0gbmV3IEltYWdlKClcbiAgICAgICMgICAgICAgICBpbWcub25sb2FkID0gLT5cbiAgICAgICMgICAgICAgICAgICR0aW1lb3V0IC0+XG4gICAgICAjICAgICAgICAgICAgICRzY29wZS5wcmV2aWV3VXJsSGVpZ2h0ID0gaW1nLmhlaWdodCArICdweCdcbiAgICAgICMgICAgICAgICAgICAgJHNjb3BlLnByZXZpZXdVcmxXaWR0aCA9IGltZy53aWR0aCArICdweCdcbiAgICAgICMgICAgICAgICBpbWcuc3JjID0gJHNjb3BlLnByZXZpZXdVcmxcblxuXG4gICAgICAjICAgICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICMgICAgICAgICAgICRzY29wZS5yZXNldEhlaWdodHMoKVxuICAgICAgIyAgICAgICAgICwgMTAwMCAgXG5cblxuICAgICAgIyAgICAgb25TdGFydDogKGZpbGVzKSAtPlxuICAgICAgIyAgICAgICBjb25zb2xlLmxvZyBmaWxlc1xuXG4gICAgICAjICAgICBvbkVycm9yOiAodHlwZSwgbWVzc2FnZSkgLT5cbiAgICAgICMgICAgICAgYWxlcnQgJ1RoZXJlIHdhcyBhbiBlcnJvciBpbiB1cGxvYWRpbmcgeW91ciBmaWxlISdcbiAgICAgICMgICAgICAgb2JqID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3AtcGFuZS1yZXBseScpXG4gICAgICAjICAgICAgIG9iai5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZidcblxuICAgICAgIyAgICAgb25Qcm9ncmVzczogKHBlcmNlbnRhZ2UpIC0+XG4gICAgICAjICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wLXBhbmUnKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZidcbiAgICAgICMgICAgICAgb2JqID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLWF0dGFjaG1lbnRzJylcbiAgICAgICMgICAgICAgb2JqLnN0eWxlLndpZHRoID0gXCIje3BlcmNlbnRhZ2V9JVwiXG5cblxuXG5cblxuICBFeHRlcm5hbENvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIkZpcmViYXNlU2VydmljZVwiLCBcIiR3aW5kb3dcIiwgXCIkdGltZW91dFwiLCBcIlVwbG9hZFwiLCBcIiRzY2VcIiwgXCIkY29tcGlsZVwiLCBcIiRmaXJlYmFzZUFycmF5XCIsIFwiJGZpcmViYXNlT2JqZWN0XCIsIFwiJGludGVydmFsXCJdXG5cblxuICBBbmdBcHAuY29udHJvbGxlciAnRXh0ZXJuYWxDb250cm9sbGVyJywgRXh0ZXJuYWxDb250cm9sbGVyXG5cbiAgRXh0ZXJuYWxDb250cm9sbGVyIl19
