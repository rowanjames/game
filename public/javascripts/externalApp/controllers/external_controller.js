define(['externalApp/base', 'angularjs', 'fbase'], function(AngApp) {
  var ExternalController;
  AngApp.directive('compile', [
    '$compile', function($compile) {
      return function(scope, element, attrs) {
        scope.$watch((function(scope) {
          return scope.$eval(attrs.compile);
        }), function(value) {
          element.html(value);
          $compile(element.contents())(scope);
        });
      };
    }
  ]);
  ExternalController = (function() {
    function ExternalController($scope, FirebaseService, $window, $timeout, Upload, $sce, $compile, $firebaseArray, $firebaseObject, $interval) {
      filepicker.setKey('A1LP338CwSuaNoitK6IHVz');
      $scope.zoomable = false;
      $scope.createFile = null;
      $scope.dotHtml = '';
      $scope.gamesIndex = $firebaseArray(FirebaseService.rootRef.child('indexes/categories'));
      $scope.createGameRef = FirebaseService.rootRef.child('games').push();
      $scope.stepStates = {
        stepOne: true,
        stepTwo: false,
        stepThree: false
      };
      $scope._ = _;
      $scope.resetHeights = function() {
        var stepHeight;
        $scope.paneHeightNumber = $window.innerHeight - document.querySelector('.top-bar-menu').offsetHeight;
        $scope.paneHeight = $scope.paneHeightNumber + 'px';
        stepHeight = ($scope.paneHeightNumber / 2) - 40 + 'px';
        $scope.stepStyle = {
          'max-height': stepHeight,
          'min-height': stepHeight,
          overflow: 'scroll'
        };
        $scope.appStyle = {
          'max-height': $window.innerHeight + 'px',
          'min-height': $window.innerHeight + 'px',
          overflow: 'scroll'
        };
        return $scope.paneStyle = {
          'max-height': $scope.paneHeight,
          'min-height': $scope.paneHeight,
          overflow: 'scroll'
        };
      };
      $scope.resetHeights();
      $scope.$watch('createFile', function() {
        if ($scope.createFile !== null) {
          return $scope.upload($scope.createFile);
        }
      });
      $scope.upload = function(file) {
        return Upload.upload({
          url: 'http://128.199.235.191/upload',
          data: {
            file: file
          }
        }).progress(function(evt) {
          var progressPercentage;
          progressPercentage = parseInt(100.0 * evt.loaded / evt.total);
          return $scope.progressStyle = {
            'width': progressPercentage + "%"
          };
        }).success(function(data, status, headers, config) {
          if (data.success) {
            return $timeout(function() {
              $scope.createGameRef.child('image').set(data.url);
              return $scope.previewUrl = data.url;
            });
          }
        });
      };
      $scope.removeImagePreview = function() {
        $scope.previewUrl = null;
        $scope.progressStyle = {
          'width': '0%'
        };
        $scope.createGameRef.child('image').set(null);
        return true;
      };
      $scope.togglePane = function(pane) {
        if (pane === 'Create') {
          $scope.showPlayPane = false;
          $scope.showCreatePane = true;
          return $scope.activeCreatePane = 'start';
        } else if (pane === 'Play') {
          $scope.showPlayPane = true;
          $scope.showCreatePane = false;
          $scope.playGameOptions = true;
          return $scope.playGameScreen = false;
        }
      };
      $scope.togglePane('Play');
      $scope.nextCreatePane = function(pane) {
        if (pane === 'start') {
          if ($scope.createGameName && $scope.activeCreateCategory) {
            FirebaseService.rootRef.child("indexes/categories/" + $scope.activeCreateCategory.$id + "/games/" + ($scope.createGameRef.key())).set({
              name: $scope.createGameName,
              live: false
            });
            $scope.stepStates.stepTwo = true;
            $scope.activeCreatePane = 'upload';
            $scope.createGameDots = $firebaseArray($scope.createGameRef.child('dots'));
            return $scope.createGameSync = $firebaseObject($scope.createGameRef);
          }
        } else if (pane === 'upload') {
          if ($scope.previewUrl) {
            return $scope.activeCreatePane = 'mark';
          } else {
            return alert('Please choose an image first.');
          }
        } else if (pane === 'mark') {
          if ($scope.createGameDots.length > 0) {
            $scope.stepStates.stepThree = true;
            return $scope.activeCreatePane = 'settings';
          } else {
            return alert('Please add atleast 1 question.');
          }
        }
      };
      $scope.prevCreatePane = function(pane) {
        if (pane === 'upload') {
          $scope.stepStates = {
            stepOne: true,
            stepTwo: false,
            stepThree: false
          };
          return $scope.activeCreatePane = 'start';
        } else if (pane === 'mark') {
          return $scope.activeCreatePane = 'upload';
        } else if (pane === 'settings') {
          $scope.stepStates = {
            stepOne: true,
            stepTwo: true,
            stepThree: false
          };
          return $scope.activeCreatePane = 'mark';
        }
      };
      $scope.previewCanvasClick = function(event) {
        var left, ref, top, x, y;
        y = event.offsetY;
        x = event.offsetX;
        $scope.createGameQuestion = null;
        top = y - 20 + 'px';
        left = x + 40 + 'px';
        $scope.createQuestionBoxStyle = {
          'top': top,
          left: left
        };
        ref = $scope.createGameRef.child('dots').push();
        ref.set({
          x: x,
          y: y
        });
        return $scope.createGameActiveDotId = ref.key();
      };
      $scope.changeDot = function(dot) {
        var left, top, x, y;
        $scope.createGameQuestion = null;
        $scope.createGameActiveDotId = dot.$id;
        $scope.createGameQuestion = dot.question;
        y = dot.y;
        x = dot.x;
        top = y - 20 + 'px';
        left = x + 40 + 'px';
        return $scope.createQuestionBoxStyle = {
          'top': top,
          left: left
        };
      };
      $scope.addQuestion = function() {
        $scope.createGameRef.child("dots/" + $scope.createGameActiveDotId + "/question").set($scope.createGameQuestion);
        return $scope.createQuestionBoxStyle = null;
      };
      $scope.removeQuestion = function() {
        $scope.createGameRef.child("dots/" + $scope.createGameActiveDotId).set(null);
        $scope.createGameQuestion = null;
        return $scope.createQuestionBoxStyle = null;
      };
      $scope.setCreateOptions = function(option, val, text) {
        return $scope.createGameRef.child("settings/" + option).set({
          val: val,
          text: text
        });
      };
      $scope.finishCreate = function() {
        if ($scope.createGameSync.settings) {
          if ($scope.createGameSync.settings.chances) {
            if ($scope.createGameSync.settings.timer) {
              FirebaseService.rootRef.child("indexes/categories/" + $scope.activeCreateCategory.$id + "/games/" + ($scope.createGameRef.key()) + "/live").set(true);
              $scope.togglePane('Play');
              $scope.activeCreatePane = 'start';
              $scope.createGameName = null;
              $scope.activeCreateCategory = null;
              $scope.createGameRef = FirebaseService.rootRef.child('games').push();
              return $scope.createQuestionBoxStyle = null;
            } else {
              return alert('Please complete the settings');
            }
          } else {
            return alert('Please complete the settings');
          }
        } else {
          return alert('Please complete the settings');
        }
      };
      $scope.changeCreateCategory = function(category) {
        return $scope.activeCreateCategory = category;
      };
      $scope.changePlayCategory = function(category) {
        return $scope.activePlayCategory = category;
      };
      $scope.changePlayGame = function(game, gameId) {
        $scope.activePlayGame = game;
        return $scope.activePlayGameId = gameId;
      };
      $scope.triggerGameScreen = function() {
        if ($scope.activePlayCategory && $scope.activePlayGame) {
          $scope.playGameOptions = false;
          $scope.playGameScreen = true;
          $scope.playGameRef = FirebaseService.rootRef.child("games/" + $scope.activePlayGameId);
          $scope.playGameSync = $firebaseObject($scope.playGameRef);
          $scope.miliCounter = 0;
          $scope.secCounter = 0;
          $scope.minCounter = 0;
          return $scope.playGameSync.$loaded(function(x) {
            if (x) {
              return $timeout(function() {
                var questions;
                questions = [];
                $scope.guessesLeft = Object.keys($scope.playGameSync.dots).length;
                angular.forEach($scope.playGameSync.dots, function(val, key) {
                  return questions.push({
                    key: key,
                    val: val
                  });
                });
                $scope.questionsArray = questions;
                $scope.questionsArrayLength = questions.length;
                $scope.answersArray = [];
                $scope.correctScore = 0;
                $scope.wrongScore = 0;
                return $scope.answerPercent = 0;
              });
            }
          });
        }
      };
      $scope.triggerGameOptions = function() {
        $scope.playGameOptions = true;
        $scope.playGameScreen = false;
        $scope.playGameRef = null;
        if ($scope.playGameSync) {
          return $scope.playGameSync.$destroy();
        }
      };
      $scope.bootGame = function() {
        $scope.gameOn = true;
        $scope.miliPromise = $interval(function() {
          if ($scope.miliCounter === 9) {
            return $scope.miliCounter = 0;
          } else {
            return $scope.miliCounter = $scope.miliCounter + 1;
          }
        }, 100);
        $scope.secPromise = $interval(function() {
          if ($scope.secCounter === 59) {
            $scope.secCounter = 0;
          } else {
            $scope.secCounter = $scope.secCounter + 1;
          }
          return $scope.evalTimerSettings();
        }, 1000);
        return $scope.minPromise = $interval(function() {
          return $scope.minCounter = $scope.minCounter + 1;
        }, 60000);
      };
      $scope.disableModal = function() {
        return $scope.enableModal = false;
      };
      $scope.evalTimerSettings = function() {
        var currentSeconds, theVal;
        theVal = parseInt($scope.playGameSync.settings.timer.val) / 1000;
        currentSeconds = $scope.minCounter * 60 + $scope.secCounter;
        if (theVal === currentSeconds) {
          $interval.cancel($scope.miliPromise);
          $interval.cancel($scope.secPromise);
          $interval.cancel($scope.minPromise);
          $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
          return $scope.enableModal = true;
        }
      };
      $scope.evalDot = function(dot, dotId) {
        if (!_.contains($scope.answersArray, dotId)) {
          if (dotId === $scope.questionsArray[0].key) {
            $scope.correctScore = $scope.correctScore + 1;
            $scope.guessesLeft = $scope.guessesLeft - 1;
            $scope.questionsArray.splice(0, 1);
            $scope.answersArray.push(dotId);
          } else {
            $scope.wrongScore = $scope.wrongScore + 1;
          }
          $scope.answerPercent = (($scope.correctScore / ($scope.correctScore + $scope.wrongScore)) * 100).toFixed(2);
          if ($scope.questionsArray.length === 0) {
            $interval.cancel($scope.miliPromise);
            $interval.cancel($scope.secPromise);
            $interval.cancel($scope.minPromise);
            $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
            $scope.enableModal = true;
          }
        }
        return $scope.evalChanceSettings();
      };
      $scope.evalChanceSettings = function() {
        if ($scope.playGameSync.settings.chances.val === 'asMany') {
          if ($scope.questionsArrayLength === $scope.correctScore + $scope.wrongScore) {
            $interval.cancel($scope.miliPromise);
            $interval.cancel($scope.secPromise);
            $interval.cancel($scope.minPromise);
            $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
            return $scope.enableModal = true;
          }
        } else if ($scope.playGameSync.settings.chances.val === 'firstWrong') {
          if ($scope.wrongScore === 1) {
            $interval.cancel($scope.miliPromise);
            $interval.cancel($scope.secPromise);
            $interval.cancel($scope.minPromise);
            $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
            return $scope.enableModal = true;
          }
        } else if ($scope.playGameSync.settings.chances.val === 'secondWrong') {
          if ($scope.wrongScore === 2) {
            $interval.cancel($scope.miliPromise);
            $interval.cancel($scope.secPromise);
            $interval.cancel($scope.minPromise);
            $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
            return $scope.enableModal = true;
          }
        } else if ($scope.playGameSync.settings.chances.val === 'thirdWrong') {
          if ($scope.wrongScore === 3) {
            $interval.cancel($scope.miliPromise);
            $interval.cancel($scope.secPromise);
            $interval.cancel($scope.minPromise);
            $scope.uniqueCode = Math.random().toString(36).slice(2).toUpperCase();
            return $scope.enableModal = true;
          }
        }
      };
      $scope.submitScore = function(scoreFirstName, scoreLastName) {
        var totalTime;
        if (scoreFirstName && scoreLastName) {
          totalTime = Math.floor(Math.random() * 600) + 1;
          FirebaseService.rootRef.child("scores/" + $scope.activePlayGameId).push().set({
            uniqueCode: $scope.uniqueCode,
            totalTime: totalTime,
            firstName: scoreFirstName,
            lastName: scoreLastName,
            correct: $scope.correctScore,
            wrong: $scope.correctScore,
            answerPercent: $scope.answerPercent
          });
          if ($scope.wrongScore === 0) {
            FirebaseService.rootRef.child("topScores/" + $scope.activePlayGameId).push().set({
              uniqueCode: $scope.uniqueCode,
              totalTime: totalTime,
              firstName: scoreFirstName,
              lastName: scoreLastName,
              correct: $scope.correctScore,
              wrong: $scope.correctScore,
              answerPercent: $scope.answerPercent
            });
          }
          $scope.showScores = true;
          return $scope.currentHighScores = $firebaseArray(FirebaseService.rootRef.child("topScores/" + $scope.activePlayGameId).orderByChild('totalTime').limitToFirst(10));
        }
      };
      $scope.playAgain = function() {
        $scope.gameOn = false;
        $scope.enableModal = false;
        return $scope.triggerGameScreen();
      };
      $scope.gameMenu = function() {
        $scope.gameOn = false;
        $scope.enableModal = false;
        return $scope.triggerGameOptions();
      };
    }

    return ExternalController;

  })();
  ExternalController.$inject = ["$scope", "FirebaseService", "$window", "$timeout", "Upload", "$sce", "$compile", "$firebaseArray", "$firebaseObject", "$interval"];
  AngApp.controller('ExternalController', ExternalController);
  return ExternalController;
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2tyaXNobmFyb2toYWxlL2NvZGUvbGV2ZWwvbGV2ZWwvcHJvamVjdHMvbW9zYWljZWQvcHVibGljL2phdmFzY3JpcHRzL2V4dGVybmFsQXBwL2NvbnRyb2xsZXJzL2V4dGVybmFsX2NvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvVXNlcnMva3Jpc2huYXJva2hhbGUvY29kZS9sZXZlbC9sZXZlbC9wcm9qZWN0cy9tb3NhaWNlZC9hc3NldHMvamF2YXNjcmlwdHMvZXh0ZXJuYWxBcHAvY29udHJvbGxlcnMvZXh0ZXJuYWxfY29udHJvbGxlci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBQSxDQUFPLENBQUUsa0JBQUYsRUFBcUIsV0FBckIsRUFBa0MsT0FBbEMsQ0FBUCxFQUFrRCxTQUFDLE1BQUQsR0FBQTtBQUVoRCxNQUFBLGtCQUFBO0FBQUEsRUFBQSxNQUFNLENBQUMsU0FBUCxDQUFrQixTQUFsQixFQUE0QjtJQUN6QixVQUR5QixFQUUxQixTQUFDLFFBQUQsR0FBQTthQUNFLFNBQUMsS0FBRCxFQUFRLE9BQVIsRUFBaUIsS0FBakIsR0FBQTtBQUNFLFFBQUEsS0FBSyxDQUFDLE1BQU4sQ0FBYSxDQUFDLFNBQUMsS0FBRCxHQUFBO2lCQUVaLEtBQUssQ0FBQyxLQUFOLENBQVksS0FBSyxDQUFDLE9BQWxCLEVBRlk7UUFBQSxDQUFELENBQWIsRUFHRyxTQUFDLEtBQUQsR0FBQTtBQUdELFVBQUEsT0FBTyxDQUFDLElBQVIsQ0FBYSxLQUFiLENBQUEsQ0FBQTtBQUFBLFVBS0EsUUFBQSxDQUFTLE9BQU8sQ0FBQyxRQUFSLENBQUEsQ0FBVCxDQUFBLENBQTZCLEtBQTdCLENBTEEsQ0FIQztRQUFBLENBSEgsQ0FBQSxDQURGO01BQUEsRUFERjtJQUFBLENBRjBCO0dBQTVCLENBQUEsQ0FBQTtBQUFBLEVBb0JNO0FBRVMsSUFBQSw0QkFBQyxNQUFELEVBQVMsZUFBVCxFQUEwQixPQUExQixFQUFt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eEUsRUFBb0YsZ0JBQXBGLEVBQXNHLGlCQUF0RyxFQUF5SCxXQUF6SCxDQTFhN0IsQ0FBQTtBQUFBLEVBNmFBLE1BQU0sQ0FBQyxVQUFQLENBQW1CLG9CQUFuQixFQUF3QyxrQkFBeEMsQ0E3YUEsQ0FBQTtTQSthQSxtQkFqYmdEO0FBQUEsQ0FBbEQsQ0FBQSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lIFsnZXh0ZXJuYWxBcHAvYmFzZScsJ2FuZ3VsYXJqcycsICdmYmFzZSddLCAoQW5nQXBwKSAtPlxuXG4gIEFuZ0FwcC5kaXJlY3RpdmUgJ2NvbXBpbGUnLCBbXG4gICAgJyRjb21waWxlJ1xuICAgICgkY29tcGlsZSkgLT5cbiAgICAgIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIC0+XG4gICAgICAgIHNjb3BlLiR3YXRjaCAoKHNjb3BlKSAtPlxuICAgICAgICAgICMgd2F0Y2ggdGhlICdjb21waWxlJyBleHByZXNzaW9uIGZvciBjaGFuZ2VzXG4gICAgICAgICAgc2NvcGUuJGV2YWwgYXR0cnMuY29tcGlsZVxuICAgICAgICApLCAodmFsdWUpIC0+XG4gICAgICAgICAgIyB3aGVuIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBjaGFuZ2VzXG4gICAgICAgICAgIyBhc3NpZ24gaXQgaW50byB0aGUgY3VycmVudCBET01cbiAgICAgICAgICBlbGVtZW50Lmh0bWwgdmFsdWVcbiAgICAgICAgICAjIGNvbXBpbGUgdGhlIG5ldyBET00gYW5kIGxpbmsgaXQgdG8gdGhlIGN1cnJlbnRcbiAgICAgICAgICAjIHNjb3BlLlxuICAgICAgICAgICMgTk9URTogd2Ugb25seSBjb21waWxlIC5jaGlsZE5vZGVzIHNvIHRoYXRcbiAgICAgICAgICAjIHdlIGRvbid0IGdldCBpbnRvIGluZmluaXRlIGxvb3AgY29tcGlsaW5nIG91cnNlbHZlc1xuICAgICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkgc2NvcGVcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgcmV0dXJuXG4gIF1cblxuICBjbGFzcyBFeHRlcm5hbENvbnRyb2xsZXJcblxuICAgIGNvbnN0cnVjdG9yOiAoJHNjb3BlLCBGaXJlYmFzZVNlcnZpY2UsICR3aW5kb3csICR0aW1lb3V0LCBVcGxvYWQsICRzY2UsICRjb21waWxlLCAkZmlyZWJhc2VBcnJheSwgJGZpcmViYXNlT2JqZWN0LCAkaW50ZXJ2YWwpIC0+XG4gICAgICBmaWxlcGlja2VyLnNldEtleSgnQTFMUDMzOEN3U3VhTm9pdEs2SUhWeicpXG4gICAgICAkc2NvcGUuem9vbWFibGUgPSBmYWxzZVxuICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBudWxsXG4gICAgICAkc2NvcGUuZG90SHRtbCA9ICcnXG4gICAgICAkc2NvcGUuZ2FtZXNJbmRleCA9ICRmaXJlYmFzZUFycmF5KEZpcmViYXNlU2VydmljZS5yb290UmVmLmNoaWxkKCdpbmRleGVzL2NhdGVnb3JpZXMnKSlcbiAgICAgICRzY29wZS5jcmVhdGVHYW1lUmVmID0gRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoJ2dhbWVzJykucHVzaCgpXG4gICAgICAkc2NvcGUuc3RlcFN0YXRlcyA9IHtzdGVwT25lOiB0cnVlLCBzdGVwVHdvOiBmYWxzZSwgc3RlcFRocmVlOiBmYWxzZX1cbiAgICAgICRzY29wZS5fID0gX1xuXG4gICAgICAjIHJlZjEgPSBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcImluZGV4ZXMvY2F0ZWdvcmllc1wiKS5wdXNoKClcbiAgICAgICMgcmVmMiA9IEZpcmViYXNlU2VydmljZS5yb290UmVmLmNoaWxkKFwiaW5kZXhlcy9jYXRlZ29yaWVzXCIpLnB1c2goKVxuICAgICAgIyByZWYxLnNldCB7bmFtZTogJ0NhdGVnb3J5IDEnfVxuICAgICAgIyByZWYyLnNldCB7bmFtZTogJ0NhdGVnb3J5IDInfVxuICAgICAgIyBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcImNhdGVnb3JpZXMvI3tyZWYxLmtleSgpfVwiKS5zZXQge25hbWU6ICdDYXRlZ29yeSAxJ31cbiAgICAgICMgRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoXCJjYXRlZ29yaWVzLyN7cmVmMi5rZXkoKX1cIikuc2V0IHtuYW1lOiAnQ2F0ZWdvcnkgMid9XG5cblxuXG4gICAgICAkc2NvcGUucmVzZXRIZWlnaHRzID0gKCkgLT5cbiAgICAgICAgJHNjb3BlLnBhbmVIZWlnaHROdW1iZXIgPSAkd2luZG93LmlubmVySGVpZ2h0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvcC1iYXItbWVudScpLm9mZnNldEhlaWdodFxuICAgICAgICAkc2NvcGUucGFuZUhlaWdodCA9ICRzY29wZS5wYW5lSGVpZ2h0TnVtYmVyICsgJ3B4J1xuICAgICAgICBzdGVwSGVpZ2h0ID0gKCRzY29wZS5wYW5lSGVpZ2h0TnVtYmVyLzIpIC0gNDAgKyAncHgnXG4gICAgICAgICRzY29wZS5zdGVwU3R5bGUgPSB7J21heC1oZWlnaHQnOiBzdGVwSGVpZ2h0LCAnbWluLWhlaWdodCc6IHN0ZXBIZWlnaHQsIG92ZXJmbG93OiAnc2Nyb2xsJ31cbiAgICAgICAgJHNjb3BlLmFwcFN0eWxlID0geydtYXgtaGVpZ2h0JzogJHdpbmRvdy5pbm5lckhlaWdodCsncHgnLCAnbWluLWhlaWdodCc6ICR3aW5kb3cuaW5uZXJIZWlnaHQrJ3B4Jywgb3ZlcmZsb3c6ICdzY3JvbGwnfVxuICAgICAgICAkc2NvcGUucGFuZVN0eWxlID0geydtYXgtaGVpZ2h0JzogJHNjb3BlLnBhbmVIZWlnaHQsICdtaW4taGVpZ2h0JzogJHNjb3BlLnBhbmVIZWlnaHQsIG92ZXJmbG93OiAnc2Nyb2xsJ31cblxuICAgICAgJHNjb3BlLnJlc2V0SGVpZ2h0cygpXG5cblxuICAgICAgJHNjb3BlLiR3YXRjaCAnY3JlYXRlRmlsZScsIC0+XG4gICAgICAgIGlmICRzY29wZS5jcmVhdGVGaWxlICE9IG51bGxcbiAgICAgICAgICAkc2NvcGUudXBsb2FkKCRzY29wZS5jcmVhdGVGaWxlKVxuXG4gICAgICAkc2NvcGUudXBsb2FkID0gKGZpbGUpIC0+XG4gICAgICAgIFVwbG9hZC51cGxvYWQoXG4gICAgICAgICAgIyB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvdXBsb2FkJ1xuICAgICAgICAgICMgdXJsOiAnaHR0cDovL21vc2FpY2VkLm5vZGVsYWJzLmluL3VwbG9hZCdcbiAgICAgICAgICB1cmw6ICdodHRwOi8vMTI4LjE5OS4yMzUuMTkxL3VwbG9hZCdcbiAgICAgICAgICAjIHVybDogJ2h0dHA6Ly8yNzFmOWMyOS5uZ3Jvay5pby91cGxvYWQnXG4gICAgICAgICAgZGF0YTpcbiAgICAgICAgICAgIGZpbGU6IGZpbGUpXG4gICAgICAgIC5wcm9ncmVzcygoZXZ0KSAtPlxuICAgICAgICAgIHByb2dyZXNzUGVyY2VudGFnZSA9IHBhcnNlSW50KDEwMC4wICogZXZ0LmxvYWRlZCAvIGV2dC50b3RhbClcbiAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3NTdHlsZSA9IHsnd2lkdGgnOiBcIiN7cHJvZ3Jlc3NQZXJjZW50YWdlfSVcIn1cbiAgICAgICAgKS5zdWNjZXNzIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykgLT5cbiAgICAgICAgICBpZiBkYXRhLnN1Y2Nlc3NcbiAgICAgICAgICAgICR0aW1lb3V0IC0+XG4gICAgICAgICAgICAgICRzY29wZS5jcmVhdGVHYW1lUmVmLmNoaWxkKCdpbWFnZScpLnNldCBkYXRhLnVybFxuICAgICAgICAgICAgICAkc2NvcGUucHJldmlld1VybCA9IGRhdGEudXJsXG5cbiAgICAgIFxuICAgICAgJHNjb3BlLnJlbW92ZUltYWdlUHJldmlldyA9ICgpIC0+XG4gICAgICAgICRzY29wZS5wcmV2aWV3VXJsID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgJHNjb3BlLnByb2dyZXNzU3R5bGUgPSB7J3dpZHRoJzogJzAlJ31cbiAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVSZWYuY2hpbGQoJ2ltYWdlJykuc2V0IG51bGxcbiAgICAgICAgcmV0dXJuIHRydWVcblxuICAgICAgJHNjb3BlLnRvZ2dsZVBhbmUgPSAocGFuZSkgLT5cbiAgICAgICAgaWYgcGFuZSA9PSAnQ3JlYXRlJ1xuICAgICAgICAgICRzY29wZS5zaG93UGxheVBhbmUgPSBmYWxzZVxuICAgICAgICAgICRzY29wZS5zaG93Q3JlYXRlUGFuZSA9IHRydWVcblxuICAgICAgICAgICRzY29wZS5hY3RpdmVDcmVhdGVQYW5lID0gJ3N0YXJ0J1xuICAgICAgICBlbHNlIGlmIHBhbmUgPT0gJ1BsYXknXG4gICAgICAgICAgJHNjb3BlLnNob3dQbGF5UGFuZSA9IHRydWVcbiAgICAgICAgICAkc2NvcGUuc2hvd0NyZWF0ZVBhbmUgPSBmYWxzZVxuXG4gICAgICAgICAgJHNjb3BlLnBsYXlHYW1lT3B0aW9ucyA9IHRydWVcbiAgICAgICAgICAkc2NvcGUucGxheUdhbWVTY3JlZW4gPSBmYWxzZVxuICAgICAgICAgIFxuICAgICAgJHNjb3BlLnRvZ2dsZVBhbmUoJ1BsYXknKSAgICBcblxuICAgICAgJHNjb3BlLm5leHRDcmVhdGVQYW5lID0gKHBhbmUpIC0+XG4gICAgICAgIGlmIHBhbmUgPT0gJ3N0YXJ0J1xuICAgICAgICAgIGlmICRzY29wZS5jcmVhdGVHYW1lTmFtZSBhbmQgJHNjb3BlLmFjdGl2ZUNyZWF0ZUNhdGVnb3J5XG4gICAgICAgICAgICBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcImluZGV4ZXMvY2F0ZWdvcmllcy8jeyRzY29wZS5hY3RpdmVDcmVhdGVDYXRlZ29yeS4kaWR9L2dhbWVzLyN7JHNjb3BlLmNyZWF0ZUdhbWVSZWYua2V5KCl9XCIpLnNldCB7bmFtZTogJHNjb3BlLmNyZWF0ZUdhbWVOYW1lLCBsaXZlOiBmYWxzZX1cblxuICAgICAgICAgICAgJHNjb3BlLnN0ZXBTdGF0ZXMuc3RlcFR3byA9IHRydWVcbiAgICAgICAgICAgICRzY29wZS5hY3RpdmVDcmVhdGVQYW5lID0gJ3VwbG9hZCdcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVHYW1lRG90cyA9ICRmaXJlYmFzZUFycmF5KCRzY29wZS5jcmVhdGVHYW1lUmVmLmNoaWxkKCdkb3RzJykpXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlR2FtZVN5bmMgPSAkZmlyZWJhc2VPYmplY3QoJHNjb3BlLmNyZWF0ZUdhbWVSZWYpXG4gICAgICAgIGVsc2UgaWYgcGFuZSA9PSAndXBsb2FkJ1xuICAgICAgICAgIGlmICRzY29wZS5wcmV2aWV3VXJsXG4gICAgICAgICAgICAkc2NvcGUuYWN0aXZlQ3JlYXRlUGFuZSA9ICdtYXJrJ1xuICAgICAgICAgICAgIyAkc2NvcGUuY3JlYXRlSW1hZ2VTdHlsZSA9IHsnYmFja2dyb3VuZC1pbWFnZSc6IFwidXJsKCN7JHNjb3BlLnByZXZpZXdVcmx9KVwiLCAnYmFja2dyb3VuZC1zaXplJzogJ2NvbnRhaW4nLCAnYmFja2dyb3VuZC1yZXBlYXQnOiAnbm8tcmVwZWF0JywgJ3dpZHRoJzogJzEwMCUnLCAnaGVpZ2h0JzogJHNjb3BlLnByZXZpZXdVcmxIZWlnaHR9XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgYWxlcnQgJ1BsZWFzZSBjaG9vc2UgYW4gaW1hZ2UgZmlyc3QuJyAgXG4gICAgICAgIGVsc2UgaWYgcGFuZSA9PSAnbWFyaydcbiAgICAgICAgICBpZiAkc2NvcGUuY3JlYXRlR2FtZURvdHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgJHNjb3BlLnN0ZXBTdGF0ZXMuc3RlcFRocmVlID0gdHJ1ZVxuICAgICAgICAgICAgJHNjb3BlLmFjdGl2ZUNyZWF0ZVBhbmUgPSAnc2V0dGluZ3MnXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgYWxlcnQgJ1BsZWFzZSBhZGQgYXRsZWFzdCAxIHF1ZXN0aW9uLicgIFxuICAgICAgICAgICAgICBcbiAgICAgICAgXG5cbiAgICAgICRzY29wZS5wcmV2Q3JlYXRlUGFuZSA9IChwYW5lKSAtPiAgIFxuICAgICAgICBpZiBwYW5lID09ICd1cGxvYWQnXG4gICAgICAgICAgJHNjb3BlLnN0ZXBTdGF0ZXMgPSB7c3RlcE9uZTogdHJ1ZSwgc3RlcFR3bzogZmFsc2UsIHN0ZXBUaHJlZTogZmFsc2V9XG4gICAgICAgICAgJHNjb3BlLmFjdGl2ZUNyZWF0ZVBhbmUgPSAnc3RhcnQnXG4gICAgICAgIGVsc2UgaWYgcGFuZSA9PSAnbWFyaydcbiAgICAgICAgICAkc2NvcGUuYWN0aXZlQ3JlYXRlUGFuZSA9ICd1cGxvYWQnXG4gICAgICAgIGVsc2UgaWYgcGFuZSA9PSAnc2V0dGluZ3MnXG4gICAgICAgICAgJHNjb3BlLnN0ZXBTdGF0ZXMgPSB7c3RlcE9uZTogdHJ1ZSwgc3RlcFR3bzogdHJ1ZSwgc3RlcFRocmVlOiBmYWxzZX1cbiAgICAgICAgICAkc2NvcGUuYWN0aXZlQ3JlYXRlUGFuZSA9ICdtYXJrJyAgICAgICBcblxuICAgICAgICAgICAgXG5cblxuICAgICAgJHNjb3BlLnByZXZpZXdDYW52YXNDbGljayA9IChldmVudCkgLT5cbiAgICAgICAgXG4gICAgICAgIHkgPSBldmVudC5vZmZzZXRZXG4gICAgICAgIHggPSBldmVudC5vZmZzZXRYXG4gICAgICAgICRzY29wZS5jcmVhdGVHYW1lUXVlc3Rpb24gPSBudWxsXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgdG9wID0geSAtIDIwICsgJ3B4JyAgXG4gICAgICAgIGxlZnQgPSB4ICsgNDAgKyAncHgnXG4gICAgICAgICRzY29wZS5jcmVhdGVRdWVzdGlvbkJveFN0eWxlID0geyd0b3AnOiB0b3AsIGxlZnQ6IGxlZnR9ICBcbiAgICAgICAgXG4gICAgICAgIHJlZiA9ICRzY29wZS5jcmVhdGVHYW1lUmVmLmNoaWxkKCdkb3RzJykucHVzaCgpXG4gICAgICAgIHJlZi5zZXQge3g6IHgsIHk6IHl9XG4gICAgICAgICRzY29wZS5jcmVhdGVHYW1lQWN0aXZlRG90SWQgPSByZWYua2V5KClcblxuXG4gICAgICAkc2NvcGUuY2hhbmdlRG90ID0gKGRvdCkgLT5cbiAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVRdWVzdGlvbiA9IG51bGxcbiAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVBY3RpdmVEb3RJZCA9IGRvdC4kaWRcbiAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVRdWVzdGlvbiA9IGRvdC5xdWVzdGlvblxuICAgICAgICB5ID0gZG90LnlcbiAgICAgICAgeCA9IGRvdC54XG4gICAgICAgIHRvcCA9IHkgLSAyMCArICdweCcgIFxuICAgICAgICBsZWZ0ID0geCArIDQwICsgJ3B4J1xuICAgICAgICAkc2NvcGUuY3JlYXRlUXVlc3Rpb25Cb3hTdHlsZSA9IHsndG9wJzogdG9wLCBsZWZ0OiBsZWZ0fSAgXG5cbiAgICAgICRzY29wZS5hZGRRdWVzdGlvbiA9ICgpICAtPlxuICAgICAgICAkc2NvcGUuY3JlYXRlR2FtZVJlZi5jaGlsZChcImRvdHMvI3skc2NvcGUuY3JlYXRlR2FtZUFjdGl2ZURvdElkfS9xdWVzdGlvblwiKS5zZXQgJHNjb3BlLmNyZWF0ZUdhbWVRdWVzdGlvblxuICAgICAgICAkc2NvcGUuY3JlYXRlUXVlc3Rpb25Cb3hTdHlsZSA9IG51bGxcblxuXG4gICAgICAkc2NvcGUucmVtb3ZlUXVlc3Rpb24gPSAoKSAtPlxuICAgICAgICAkc2NvcGUuY3JlYXRlR2FtZVJlZi5jaGlsZChcImRvdHMvI3skc2NvcGUuY3JlYXRlR2FtZUFjdGl2ZURvdElkfVwiKS5zZXQgbnVsbCBcbiAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVRdWVzdGlvbiA9IG51bGxcbiAgICAgICAgJHNjb3BlLmNyZWF0ZVF1ZXN0aW9uQm94U3R5bGUgPSBudWxsXG5cblxuICAgICAgJHNjb3BlLnNldENyZWF0ZU9wdGlvbnMgPSAob3B0aW9uLHZhbCwgdGV4dCkgIC0+XG4gICAgICAgICRzY29wZS5jcmVhdGVHYW1lUmVmLmNoaWxkKFwic2V0dGluZ3MvI3tvcHRpb259XCIpLnNldCB7dmFsOiB2YWwsIHRleHQ6IHRleHR9XG5cbiAgICAgICRzY29wZS5maW5pc2hDcmVhdGUgPSAoKSAtPlxuICAgICAgICBpZiAkc2NvcGUuY3JlYXRlR2FtZVN5bmMuc2V0dGluZ3NcbiAgICAgICAgICBpZiAkc2NvcGUuY3JlYXRlR2FtZVN5bmMuc2V0dGluZ3MuY2hhbmNlc1xuICAgICAgICAgICAgaWYgJHNjb3BlLmNyZWF0ZUdhbWVTeW5jLnNldHRpbmdzLnRpbWVyXG4gICAgICAgICAgICAgIEZpcmViYXNlU2VydmljZS5yb290UmVmLmNoaWxkKFwiaW5kZXhlcy9jYXRlZ29yaWVzLyN7JHNjb3BlLmFjdGl2ZUNyZWF0ZUNhdGVnb3J5LiRpZH0vZ2FtZXMvI3skc2NvcGUuY3JlYXRlR2FtZVJlZi5rZXkoKX0vbGl2ZVwiKS5zZXQgdHJ1ZVxuICAgICAgICAgICAgICAkc2NvcGUudG9nZ2xlUGFuZSgnUGxheScpXG4gICAgICAgICAgICAgICRzY29wZS5hY3RpdmVDcmVhdGVQYW5lID0gJ3N0YXJ0J1xuICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlR2FtZU5hbWUgPSBudWxsXG4gICAgICAgICAgICAgICRzY29wZS5hY3RpdmVDcmVhdGVDYXRlZ29yeSA9IG51bGxcbiAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUdhbWVSZWYgPSBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZCgnZ2FtZXMnKS5wdXNoKClcbiAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZVF1ZXN0aW9uQm94U3R5bGUgPSBudWxsXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGFsZXJ0ICdQbGVhc2UgY29tcGxldGUgdGhlIHNldHRpbmdzJyAgICBcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBhbGVydCAnUGxlYXNlIGNvbXBsZXRlIHRoZSBzZXR0aW5ncycgICAgICBcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGFsZXJ0ICdQbGVhc2UgY29tcGxldGUgdGhlIHNldHRpbmdzJyAgXG5cblxuICAgICAgJHNjb3BlLmNoYW5nZUNyZWF0ZUNhdGVnb3J5ID0gKGNhdGVnb3J5KSAtPlxuICAgICAgICAkc2NvcGUuYWN0aXZlQ3JlYXRlQ2F0ZWdvcnkgPSBjYXRlZ29yeVxuXG4gICAgICAkc2NvcGUuY2hhbmdlUGxheUNhdGVnb3J5ID0gKGNhdGVnb3J5KSAtPlxuICAgICAgICAkc2NvcGUuYWN0aXZlUGxheUNhdGVnb3J5ID0gY2F0ZWdvcnlcblxuICAgICAgJHNjb3BlLmNoYW5nZVBsYXlHYW1lID0gKGdhbWUsIGdhbWVJZCkgLT5cbiAgICAgICAgJHNjb3BlLmFjdGl2ZVBsYXlHYW1lID0gZ2FtZVxuICAgICAgICAkc2NvcGUuYWN0aXZlUGxheUdhbWVJZCA9IGdhbWVJZFxuXG4gICAgICAkc2NvcGUudHJpZ2dlckdhbWVTY3JlZW4gPSAoKSAtPlxuICAgICAgICBpZiAkc2NvcGUuYWN0aXZlUGxheUNhdGVnb3J5IGFuZCAkc2NvcGUuYWN0aXZlUGxheUdhbWVcbiAgICAgICAgICAkc2NvcGUucGxheUdhbWVPcHRpb25zID0gZmFsc2VcbiAgICAgICAgICAkc2NvcGUucGxheUdhbWVTY3JlZW4gPSB0cnVlXG4gICAgICAgICAgJHNjb3BlLnBsYXlHYW1lUmVmID0gRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoXCJnYW1lcy8jeyRzY29wZS5hY3RpdmVQbGF5R2FtZUlkfVwiKVxuICAgICAgICAgICRzY29wZS5wbGF5R2FtZVN5bmMgPSAkZmlyZWJhc2VPYmplY3QoJHNjb3BlLnBsYXlHYW1lUmVmKVxuXG4gICAgICAgICAgIyAkc2NvcGUuc2NvcmVzUmVmID0gRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoXCJzY29yZXMvI3skc2NvcGUuYWN0aXZlUGxheUdhbWVJZH1cIikucHVzaCgpXG4gICAgICAgICAgJHNjb3BlLm1pbGlDb3VudGVyID0gMFxuICAgICAgICAgICRzY29wZS5zZWNDb3VudGVyID0gMFxuICAgICAgICAgICRzY29wZS5taW5Db3VudGVyID0gMFxuXG4gICAgICAgICAgJHNjb3BlLnBsYXlHYW1lU3luYy4kbG9hZGVkICh4KSAtPlxuICAgICAgICAgICAgaWYgeFxuICAgICAgICAgICAgICAkdGltZW91dCAtPlxuICAgICAgICAgICAgICAgIHF1ZXN0aW9ucyA9IFtdXG4gICAgICAgICAgICAgICAgJHNjb3BlLmd1ZXNzZXNMZWZ0ID0gT2JqZWN0LmtleXMoJHNjb3BlLnBsYXlHYW1lU3luYy5kb3RzKS5sZW5ndGhcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2ggJHNjb3BlLnBsYXlHYW1lU3luYy5kb3RzLCAodmFsLGtleSkgLT5cbiAgICAgICAgICAgICAgICAgIHF1ZXN0aW9ucy5wdXNoIHtrZXk6IGtleSwgdmFsOiB2YWx9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUucXVlc3Rpb25zQXJyYXkgPSBxdWVzdGlvbnNcbiAgICAgICAgICAgICAgICAkc2NvcGUucXVlc3Rpb25zQXJyYXlMZW5ndGggPSBxdWVzdGlvbnMubGVuZ3RoXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFuc3dlcnNBcnJheSA9IFtdXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvcnJlY3RTY29yZSA9IDBcbiAgICAgICAgICAgICAgICAkc2NvcGUud3JvbmdTY29yZSA9IDBcbiAgICAgICAgICAgICAgICAkc2NvcGUuYW5zd2VyUGVyY2VudCA9IDBcblxuXG5cbiAgICAgICRzY29wZS50cmlnZ2VyR2FtZU9wdGlvbnMgPSAoKSAtPlxuICAgICAgICAkc2NvcGUucGxheUdhbWVPcHRpb25zID0gdHJ1ZVxuICAgICAgICAkc2NvcGUucGxheUdhbWVTY3JlZW4gPSBmYWxzZVxuICAgICAgICAkc2NvcGUucGxheUdhbWVSZWYgPSBudWxsXG4gICAgICAgICRzY29wZS5wbGF5R2FtZVN5bmMuJGRlc3Ryb3koKSBpZiAkc2NvcGUucGxheUdhbWVTeW5jXG5cblxuICAgICAgJHNjb3BlLmJvb3RHYW1lID0gKCkgLT5cbiAgICAgICAgJHNjb3BlLmdhbWVPbiA9IHRydWVcbiAgICAgICAgXG4gICAgICAgIFxuXG4gICAgICAgICRzY29wZS5taWxpUHJvbWlzZSA9ICRpbnRlcnZhbCAtPlxuICAgICAgICAgIGlmICRzY29wZS5taWxpQ291bnRlciA9PSA5XG4gICAgICAgICAgICAkc2NvcGUubWlsaUNvdW50ZXIgPSAwXG4gICAgICAgICAgZWxzZSAgXG4gICAgICAgICAgICAkc2NvcGUubWlsaUNvdW50ZXIgPSAkc2NvcGUubWlsaUNvdW50ZXIgKyAxICAgIFxuICAgICAgICAsIDEwMCAgXG4gICAgICAgICRzY29wZS5zZWNQcm9taXNlID0gJGludGVydmFsIC0+XG4gICAgICAgICAgaWYgJHNjb3BlLnNlY0NvdW50ZXIgPT0gNTlcbiAgICAgICAgICAgICRzY29wZS5zZWNDb3VudGVyID0gMFxuICAgICAgICAgIGVsc2UgIFxuICAgICAgICAgICAgJHNjb3BlLnNlY0NvdW50ZXIgPSAkc2NvcGUuc2VjQ291bnRlciArIDFcblxuICAgICAgICAgICRzY29wZS5ldmFsVGltZXJTZXR0aW5ncygpICBcbiAgICAgICAgLCAxMDAwXG4gICAgICAgICRzY29wZS5taW5Qcm9taXNlID0gJGludGVydmFsIC0+XG4gICAgICAgICAgJHNjb3BlLm1pbkNvdW50ZXIgPSAkc2NvcGUubWluQ291bnRlciArIDFcbiAgICAgICAgLCA2MDAwMCAgIFxuXG4gICAgICAkc2NvcGUuZGlzYWJsZU1vZGFsID0gKCkgLT5cbiAgICAgICAgJHNjb3BlLmVuYWJsZU1vZGFsID0gZmFsc2VcbiAgICAgICAgICBcblxuICAgICAgJHNjb3BlLmV2YWxUaW1lclNldHRpbmdzID0gKCkgLT5cbiAgICAgICAgdGhlVmFsID0gcGFyc2VJbnQoJHNjb3BlLnBsYXlHYW1lU3luYy5zZXR0aW5ncy50aW1lci52YWwpLzEwMDBcbiAgICAgICAgY3VycmVudFNlY29uZHMgPSAkc2NvcGUubWluQ291bnRlcio2MCArICRzY29wZS5zZWNDb3VudGVyXG4gICAgICAgIGlmIHRoZVZhbCA9PSBjdXJyZW50U2Vjb25kc1xuICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pbGlQcm9taXNlKVxuICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLnNlY1Byb21pc2UpXG4gICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubWluUHJvbWlzZSlcbiAgICAgICAgICAkc2NvcGUudW5pcXVlQ29kZSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAkc2NvcGUuZW5hYmxlTW9kYWwgPSB0cnVlXG5cblxuXG4gICAgICAkc2NvcGUuZXZhbERvdCA9IChkb3QsIGRvdElkKSAtPlxuICAgICAgICB1bmxlc3MgXy5jb250YWlucygkc2NvcGUuYW5zd2Vyc0FycmF5LCBkb3RJZClcbiAgICAgICAgICBpZiBkb3RJZCA9PSAkc2NvcGUucXVlc3Rpb25zQXJyYXlbMF0ua2V5XG4gICAgICAgICAgICAkc2NvcGUuY29ycmVjdFNjb3JlID0gJHNjb3BlLmNvcnJlY3RTY29yZSArIDFcbiAgICAgICAgICAgICRzY29wZS5ndWVzc2VzTGVmdCA9ICRzY29wZS5ndWVzc2VzTGVmdCAtIDFcbiAgICAgICAgICAgICRzY29wZS5xdWVzdGlvbnNBcnJheS5zcGxpY2UoMCwgMSlcbiAgICAgICAgICAgICRzY29wZS5hbnN3ZXJzQXJyYXkucHVzaCBkb3RJZFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICRzY29wZS53cm9uZ1Njb3JlID0gJHNjb3BlLndyb25nU2NvcmUgKyAxXG4gICAgICAgICAgJHNjb3BlLmFuc3dlclBlcmNlbnQgPSAoKCRzY29wZS5jb3JyZWN0U2NvcmUvKCRzY29wZS5jb3JyZWN0U2NvcmUrJHNjb3BlLndyb25nU2NvcmUpKSoxMDApLnRvRml4ZWQoMilcblxuICAgICAgICAgIGlmICRzY29wZS5xdWVzdGlvbnNBcnJheS5sZW5ndGggPT0gMFxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubWlsaVByb21pc2UpXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5zZWNQcm9taXNlKVxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubWluUHJvbWlzZSlcbiAgICAgICAgICAgICRzY29wZS51bmlxdWVDb2RlID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMikudG9VcHBlckNhc2UoKVxuICAgICAgICAgICAgJHNjb3BlLmVuYWJsZU1vZGFsID0gdHJ1ZVxuXG4gICAgICAgICRzY29wZS5ldmFsQ2hhbmNlU2V0dGluZ3MoKVxuICAgICAgICAgICAgXG5cbiAgICAgICRzY29wZS5ldmFsQ2hhbmNlU2V0dGluZ3MgPSAoKSAtPlxuICAgICAgICBpZiAkc2NvcGUucGxheUdhbWVTeW5jLnNldHRpbmdzLmNoYW5jZXMudmFsID09ICdhc01hbnknXG4gICAgICAgICAgaWYgJHNjb3BlLnF1ZXN0aW9uc0FycmF5TGVuZ3RoID09ICRzY29wZS5jb3JyZWN0U2NvcmUgKyAkc2NvcGUud3JvbmdTY29yZVxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubWlsaVByb21pc2UpXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5zZWNQcm9taXNlKVxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubWluUHJvbWlzZSlcbiAgICAgICAgICAgICRzY29wZS51bmlxdWVDb2RlID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMikudG9VcHBlckNhc2UoKVxuICAgICAgICAgICAgJHNjb3BlLmVuYWJsZU1vZGFsID0gdHJ1ZVxuICAgICAgICAgICAgICBcbiAgICAgICAgZWxzZSBpZiAkc2NvcGUucGxheUdhbWVTeW5jLnNldHRpbmdzLmNoYW5jZXMudmFsID09ICdmaXJzdFdyb25nJ1xuICAgICAgICAgIGlmICRzY29wZS53cm9uZ1Njb3JlID09IDFcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pbGlQcm9taXNlKVxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUuc2VjUHJvbWlzZSlcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pblByb21pc2UpXG4gICAgICAgICAgICAkc2NvcGUudW5pcXVlQ29kZSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgICRzY29wZS5lbmFibGVNb2RhbCA9IHRydWVcbiAgICAgICAgZWxzZSBpZiAkc2NvcGUucGxheUdhbWVTeW5jLnNldHRpbmdzLmNoYW5jZXMudmFsID09ICdzZWNvbmRXcm9uZycgICAgXG4gICAgICAgICAgaWYgJHNjb3BlLndyb25nU2NvcmUgPT0gMlxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubWlsaVByb21pc2UpXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5zZWNQcm9taXNlKVxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubWluUHJvbWlzZSlcbiAgICAgICAgICAgICRzY29wZS51bmlxdWVDb2RlID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMikudG9VcHBlckNhc2UoKVxuICAgICAgICAgICAgJHNjb3BlLmVuYWJsZU1vZGFsID0gdHJ1ZVxuICAgICAgICBlbHNlIGlmICRzY29wZS5wbGF5R2FtZVN5bmMuc2V0dGluZ3MuY2hhbmNlcy52YWwgPT0gJ3RoaXJkV3JvbmcnICAgIFxuICAgICAgICAgIGlmICRzY29wZS53cm9uZ1Njb3JlID09IDNcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pbGlQcm9taXNlKVxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUuc2VjUHJvbWlzZSlcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm1pblByb21pc2UpXG4gICAgICAgICAgICAkc2NvcGUudW5pcXVlQ29kZSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgICRzY29wZS5lbmFibGVNb2RhbCA9IHRydWUgIFxuXG4gICAgICAgICAgICAgIFxuXG5cblxuXG5cblxuICAgICAgJHNjb3BlLnN1Ym1pdFNjb3JlID0gKHNjb3JlRmlyc3ROYW1lLCBzY29yZUxhc3ROYW1lKSAtPlxuICAgICAgICBpZiBzY29yZUZpcnN0TmFtZSBhbmQgc2NvcmVMYXN0TmFtZVxuICAgICAgICAgICMgdG90YWxUaW1lID0gJHNjb3BlLm1pbGlDb3VudGVyKjEwMCArICRzY29wZS5zZWNDb3VudGVyKjEwMDAgKyAkc2NvcGUubWluQ291bnRlcio2MCoxMDAwXG4gICAgICAgICAgdG90YWxUaW1lID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNjAwKSArIDEgIFxuICAgICAgICAgIEZpcmViYXNlU2VydmljZS5yb290UmVmLmNoaWxkKFwic2NvcmVzLyN7JHNjb3BlLmFjdGl2ZVBsYXlHYW1lSWR9XCIpLnB1c2goKS5zZXQge3VuaXF1ZUNvZGU6ICRzY29wZS51bmlxdWVDb2RlLCB0b3RhbFRpbWU6IHRvdGFsVGltZSwgZmlyc3ROYW1lOiBzY29yZUZpcnN0TmFtZSwgbGFzdE5hbWU6IHNjb3JlTGFzdE5hbWUsIGNvcnJlY3Q6ICRzY29wZS5jb3JyZWN0U2NvcmUsIHdyb25nOiAkc2NvcGUuY29ycmVjdFNjb3JlLCBhbnN3ZXJQZXJjZW50OiAkc2NvcGUuYW5zd2VyUGVyY2VudH1cbiAgICAgICAgICBpZiAkc2NvcGUud3JvbmdTY29yZSA9PSAwXG4gICAgICAgICAgICBGaXJlYmFzZVNlcnZpY2Uucm9vdFJlZi5jaGlsZChcInRvcFNjb3Jlcy8jeyRzY29wZS5hY3RpdmVQbGF5R2FtZUlkfVwiKS5wdXNoKCkuc2V0IHt1bmlxdWVDb2RlOiAkc2NvcGUudW5pcXVlQ29kZSwgdG90YWxUaW1lOiB0b3RhbFRpbWUsIGZpcnN0TmFtZTogc2NvcmVGaXJzdE5hbWUsIGxhc3ROYW1lOiBzY29yZUxhc3ROYW1lLCBjb3JyZWN0OiAkc2NvcGUuY29ycmVjdFNjb3JlLCB3cm9uZzogJHNjb3BlLmNvcnJlY3RTY29yZSwgYW5zd2VyUGVyY2VudDogJHNjb3BlLmFuc3dlclBlcmNlbnR9XG5cbiAgICAgICAgICAkc2NvcGUuc2hvd1Njb3JlcyA9IHRydWUgXG4gICAgICAgICAgJHNjb3BlLmN1cnJlbnRIaWdoU2NvcmVzID0gJGZpcmViYXNlQXJyYXkoRmlyZWJhc2VTZXJ2aWNlLnJvb3RSZWYuY2hpbGQoXCJ0b3BTY29yZXMvI3skc2NvcGUuYWN0aXZlUGxheUdhbWVJZH1cIikub3JkZXJCeUNoaWxkKCd0b3RhbFRpbWUnKS5saW1pdFRvRmlyc3QoMTApKSBcblxuXG5cbiAgICAgICRzY29wZS5wbGF5QWdhaW4gPSAoKSAtPlxuICAgICAgICAkc2NvcGUuZ2FtZU9uID0gZmFsc2VcbiAgICAgICAgJHNjb3BlLmVuYWJsZU1vZGFsID0gZmFsc2VcbiAgICAgICAgJHNjb3BlLnRyaWdnZXJHYW1lU2NyZWVuKClcblxuXG5cbiAgICAgICRzY29wZS5nYW1lTWVudSA9ICgpIC0+XG4gICAgICAgICRzY29wZS5nYW1lT24gPSBmYWxzZVxuICAgICAgICAkc2NvcGUuZW5hYmxlTW9kYWwgPSBmYWxzZVxuICAgICAgICAkc2NvcGUudHJpZ2dlckdhbWVPcHRpb25zKClcblxuXG5cbiAgICAgICAgICBcbiAgICAgICAgICBcbiAgICAgICAgIFxuICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgICBcbiAgICAgICAgXG5cblxuICAgICAgIyAkc2NvcGUudXBsb2FkRmlsZSA9ICgpIC0+ICAgIFxuICAgICAgIyAgICRzY29wZS5zaG93RHJvcFBhbmUgPSB0cnVlXG4gICAgICAjICAgZmlsZXBpY2tlci5tYWtlRHJvcFBhbmUgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3AtcGFuZScpLFxuICAgICAgIyAgICAgbXVsdGlwbGU6IGZhbHNlXG4gICAgICAjICAgICBkcmFnRW50ZXI6IC0+XG4gICAgICAjICAgICAgIG9iaiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wLXBhbmUnKVxuICAgICAgIyAgICAgICBvYmouc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNlZWUnXG4gICAgICAjICAgICBkcmFnTGVhdmU6IC0+XG4gICAgICAjICAgICAgIG9iaiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wLXBhbmUnKVxuICAgICAgIyAgICAgICBvYmouc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnXG4gICAgICAjICAgICBvblN1Y2Nlc3M6IChCbG9icykgLT5cbiAgICAgICMgICAgICAgY29uc29sZS5sb2cgSlNPTi5zdHJpbmdpZnkoQmxvYnMpXG5cbiAgICAgICMgICAgICAgIyBvYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MtYXR0YWNobWVudHMnKVxuICAgICAgIyAgICAgICAjIG9iai5zdHlsZS53aWR0aCA9IFwiMCVcIlxuICAgICAgIyAgICAgICAjIGZpbmFsQmxvYnMgPSBbXVxuICAgICAgIyAgICAgICAjIGZvciBibG9iIGluIEJsb2JzXG4gICAgICAjICAgICAgICAgIyBkZWxldGUgYmxvYi5rZXlcbiAgICAgICMgICAgICAgICAjIGZpbmFsQmxvYnMucHVzaCBibG9iXG4gICAgICAjICAgICAgIGNvbnNvbGUubG9nIEJsb2JzXG4gICAgICAjICAgICAgICR0aW1lb3V0IC0+XG4gICAgICAjICAgICAgICAgJHNjb3BlLnNob3dEcm9wUGFuZSA9IGZhbHNlXG4gICAgICAjICAgICAgICAgJHNjb3BlLnNob3dJbWFnZVByZXZpZXcgPSB0cnVlXG4gICAgICAjICAgICAgICAgJHNjb3BlLnByZXZpZXdVcmwgPSBCbG9ic1swXS51cmxcbiAgICAgICMgICAgICAgICBpbWcgPSBuZXcgSW1hZ2UoKVxuICAgICAgIyAgICAgICAgIGltZy5vbmxvYWQgPSAtPlxuICAgICAgIyAgICAgICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICMgICAgICAgICAgICAgJHNjb3BlLnByZXZpZXdVcmxIZWlnaHQgPSBpbWcuaGVpZ2h0ICsgJ3B4J1xuICAgICAgIyAgICAgICAgICAgICAkc2NvcGUucHJldmlld1VybFdpZHRoID0gaW1nLndpZHRoICsgJ3B4J1xuICAgICAgIyAgICAgICAgIGltZy5zcmMgPSAkc2NvcGUucHJldmlld1VybFxuXG5cbiAgICAgICMgICAgICAgICAkdGltZW91dCAtPlxuICAgICAgIyAgICAgICAgICAgJHNjb3BlLnJlc2V0SGVpZ2h0cygpXG4gICAgICAjICAgICAgICAgLCAxMDAwICBcblxuXG4gICAgICAjICAgICBvblN0YXJ0OiAoZmlsZXMpIC0+XG4gICAgICAjICAgICAgIGNvbnNvbGUubG9nIGZpbGVzXG5cbiAgICAgICMgICAgIG9uRXJyb3I6ICh0eXBlLCBtZXNzYWdlKSAtPlxuICAgICAgIyAgICAgICBhbGVydCAnVGhlcmUgd2FzIGFuIGVycm9yIGluIHVwbG9hZGluZyB5b3VyIGZpbGUhJ1xuICAgICAgIyAgICAgICBvYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcC1wYW5lLXJlcGx5JylcbiAgICAgICMgICAgICAgb2JqLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZmZmJ1xuXG4gICAgICAjICAgICBvblByb2dyZXNzOiAocGVyY2VudGFnZSkgLT5cbiAgICAgICMgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3AtcGFuZScpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZmZmJ1xuICAgICAgIyAgICAgICBvYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MtYXR0YWNobWVudHMnKVxuICAgICAgIyAgICAgICBvYmouc3R5bGUud2lkdGggPSBcIiN7cGVyY2VudGFnZX0lXCJcblxuXG5cblxuXG4gIEV4dGVybmFsQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiRmlyZWJhc2VTZXJ2aWNlXCIsIFwiJHdpbmRvd1wiLCBcIiR0aW1lb3V0XCIsIFwiVXBsb2FkXCIsIFwiJHNjZVwiLCBcIiRjb21waWxlXCIsIFwiJGZpcmViYXNlQXJyYXlcIiwgXCIkZmlyZWJhc2VPYmplY3RcIiwgXCIkaW50ZXJ2YWxcIl1cblxuXG4gIEFuZ0FwcC5jb250cm9sbGVyICdFeHRlcm5hbENvbnRyb2xsZXInLCBFeHRlcm5hbENvbnRyb2xsZXJcblxuICBFeHRlcm5hbENvbnRyb2xsZXIiXX0=
