define(['app/base', 'marked', 'picker'], function(AngApp, marked, filepicker) {
  var EditCourseController;
  filepicker.setKey("AbTiwTQQyRk64Q0iOoQHrz");
  EditCourseController = (function() {
    function EditCourseController($scope, $window, $sce, $routeParams, $rootScope, $timeout) {
      $scope.editCourse = {
        content: {}
      };
      $scope.bootEdit = function(course, unitKey, lessonKey, projectKey, unitIndex, lessonIndex, projectIndex) {
        var _ref, _ref1, _ref10, _ref11, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;
        $scope.editCourse.course = course;
        $scope.editCourse.unitKey = unitKey;
        $scope.editCourse.lessonKey = lessonKey;
        $scope.editCourse.projectKey = projectKey;
        $scope.editCourse.unitIndex = unitIndex;
        $scope.editCourse.lessonIndex = lessonIndex;
        $scope.editCourse.projectIndex = projectIndex;
        $scope.editCourse.content.html = $sce.trustAsHtml(((_ref = $scope.editCourse.course.units) != null ? (_ref1 = _ref[unitKey]) != null ? (_ref2 = _ref1.lessons) != null ? (_ref3 = _ref2[lessonKey]) != null ? (_ref4 = _ref3.projects) != null ? (_ref5 = _ref4[projectKey]) != null ? _ref5.html : void 0 : void 0 : void 0 : void 0 : void 0 : void 0) || '', {
          sanitize: false
        });
        $scope.editCourse.content.markdown = ((_ref6 = $scope.editCourse.course.units) != null ? (_ref7 = _ref6[unitKey]) != null ? (_ref8 = _ref7.lessons) != null ? (_ref9 = _ref8[lessonKey]) != null ? (_ref10 = _ref9.projects) != null ? (_ref11 = _ref10[projectKey]) != null ? _ref11.markdown : void 0 : void 0 : void 0 : void 0 : void 0 : void 0) || '';
        return $timeout(function() {
          $scope.paneHeightNumber = $window.innerHeight - document.querySelector('nav').offsetHeight - document.querySelector('.mentor-dashboard').offsetHeight - document.querySelector('.courses-tab-option-dashboard').offsetHeight;
          $scope.paneHeight = $scope.paneHeightNumber + 'px';
          $scope.paneStyle = {
            'max-height': $scope.paneHeight,
            'min-height': $scope.paneHeight
          };
          $scope.editPaneHeightNumber = $scope.paneHeightNumber - document.querySelector('.edit-pane-options').offsetHeight;
          $scope.editPaneHeight = $scope.editPaneHeightNumber - 5 + 'px';
          $scope.editPaneStyle = {
            'max-height': $scope.editPaneHeight,
            'min-height': $scope.editPaneHeight
          };
          $scope.menuPaneHeightNumber = $scope.paneHeightNumber - document.querySelector('.menu-pane-options').offsetHeight;
          $scope.menuPaneHeight = $scope.menuPaneHeightNumber + 'px';
          return $scope.menuPaneStyle = {
            'max-height': $scope.menuPaneHeight,
            'min-height': $scope.menuPaneHeight
          };
        }, 100);
      };
      $scope.editCourse.convertMarked = function() {
        $rootScope.rootRef.child("courses/" + $scope.editCourse.course.$id + "/units/" + $scope.editCourse.unitKey + "/lessons/" + $scope.editCourse.lessonKey + "/projects/" + $scope.editCourse.projectKey + "/markdown").set($scope.editCourse.content.markdown);
        $rootScope.rootRef.child("courses/" + $scope.editCourse.course.$id + "/units/" + $scope.editCourse.unitKey + "/lessons/" + $scope.editCourse.lessonKey + "/projects/" + $scope.editCourse.projectKey + "/html").set(marked($scope.editCourse.content.markdown || "", {
          sanitize: false
        }));
        return $scope.editCourse.content.html = $sce.trustAsHtml(marked($scope.editCourse.content.markdown || "", {
          sanitize: false
        }));
      };
      $scope.editCourse.changeProject = function(unitKey, lessonKey, projectKey, unitIndex, lessonIndex, projectIndex) {
        $scope.editCourse.unitKey = unitKey;
        $scope.editCourse.lessonKey = lessonKey;
        $scope.editCourse.projectKey = projectKey;
        $scope.editCourse.unitIndex = unitIndex;
        $scope.editCourse.lessonIndex = lessonIndex;
        $scope.editCourse.projectIndex = projectIndex;
        $scope.editCourse.content.html = $sce.trustAsHtml($scope.editCourse.course.units[unitKey].lessons[lessonKey].projects[projectKey].html || '', {
          sanitize: false
        });
        return $scope.editCourse.content.markdown = $scope.editCourse.course.units[unitKey].lessons[lessonKey].projects[projectKey].markdown || '';
      };
      $scope.editCourse.onChangeNames = function(newVal) {
        $scope.editCourse.course.$save();
        return $rootScope.rootRef.child("courses/index/" + $scope.editCourse.course.$id + "/name").set($scope.editCourse.course.name);
      };
      $scope.editCourse.addUnit = function() {
        var unitRef;
        $scope.editCourse.creatingUnit = true;
        unitRef = $rootScope.rootRef.child("courses/" + $scope.editCourse.course.$id + "/units").push();
        return unitRef.set({
          name: "New Unit"
        }, function() {
          return $scope.$apply(function() {
            return $scope.editCourse.creatingUnit = false;
          });
        });
      };
      $scope.editCourse.addLesson = function(unitKey) {
        $rootScope.modalHeader = 'New Lesson';
        $rootScope.modalContent = $sce.trustAsHtml('Enter a name for your new lesson: <br><br> <input name="name" type="text" placeholder="Lesson Name" class="lesson-name form-control bor"/>');
        $rootScope.modalButtonText = 'Create';
        $rootScope.enableModal = true;
        return $rootScope.onModalButtonClick = function(e) {
          var lessRef;
          e.preventDefault();
          if ($(".lesson-name").val().trim().length > 0) {
            lessRef = $rootScope.rootRef.child("courses/" + $scope.editCourse.course.$id + "/units/" + unitKey + "/lessons").push();
            lessRef.set({
              name: $(".lesson-name").val().trim()
            });
            return $rootScope.enableModal = false;
          }
        };
      };
      $scope.editCourse.addProject = function(unitKey, lessonKey) {
        $rootScope.modalHeader = 'New Project';
        $rootScope.modalContent = $sce.trustAsHtml('Enter a name for your new project: <br><br> <input name="name" type="text" placeholder="Project Name" class="project-name form-control bor"/>');
        $rootScope.modalButtonText = 'Create';
        $rootScope.enableModal = true;
        return $rootScope.onModalButtonClick = function(e) {
          var projRef;
          e.preventDefault();
          if ($(".project-name").val().trim().length > 0) {
            projRef = $rootScope.rootRef.child("courses/" + $scope.editCourse.course.$id + "/units/" + unitKey + "/lessons/" + lessonKey + "/projects").push();
            projRef.set({
              name: $(".project-name").val().trim(),
              isText: true
            });
            return $rootScope.enableModal = false;
          }
        };
      };
      $scope.editCourse.deleteProject = function(unitKey, lessonKey, projectKey) {
        $rootScope.modalHeader = 'Delete Project';
        $rootScope.modalContent = $sce.trustAsHtml('Are you sure?');
        $rootScope.modalButtonText = 'Delete';
        $rootScope.enableModal = true;
        return $rootScope.onModalButtonClick = function(e) {
          e.preventDefault();
          $rootScope.rootRef.child("courses/" + $scope.editCourse.course.$id + "/units/" + unitKey + "/lessons/" + lessonKey + "/projects/" + projectKey).set(null);
          return $rootScope.enableModal = false;
        };
      };
      $scope.editCourse.deleteLesson = function(unitKey, lessonKey) {
        $rootScope.modalHeader = 'Delete Lesson';
        $rootScope.modalContent = $sce.trustAsHtml('Are you sure?');
        $rootScope.modalButtonText = 'Delete';
        $rootScope.enableModal = true;
        return $rootScope.onModalButtonClick = function(e) {
          e.preventDefault();
          $rootScope.rootRef.child("courses/" + $scope.editCourse.course.$id + "/units/" + unitKey + "/lessons/" + lessonKey).set(null);
          return $rootScope.enableModal = false;
        };
      };
      $scope.editCourse.deleteUnit = function(unitKey) {
        $rootScope.modalHeader = 'Delete Unit';
        $rootScope.modalContent = $sce.trustAsHtml('Are you sure?');
        $rootScope.modalButtonText = 'Delete';
        $rootScope.enableModal = true;
        return $rootScope.onModalButtonClick = function(e) {
          e.preventDefault();
          $rootScope.rootRef.child("courses/" + $scope.editCourse.course.$id + "/units/" + unitKey).set(null);
          return $rootScope.enableModal = false;
        };
      };
    }

    return EditCourseController;

  })();
  EditCourseController.$inject = ["$scope", "$window", "$sce", "$routeParams", "$rootScope", "$timeout"];
  AngApp.controller('EditCourseController', EditCourseController);
  return EditCourseController;
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2tyaXNobmFyb2toYWxlL2NvZGUvbGV2ZWwvbGV2ZWwvcHJvamVjdHMvbW9zYWljZWQvcHVibGljL2phdmFzY3JpcHRzL2FwcC9jb250cm9sbGVycy9lZGl0X2NvdXJzZV9jb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL1VzZXJzL2tyaXNobmFyb2toYWxlL2NvZGUvbGV2ZWwvbGV2ZWwvcHJvamVjdHMvbW9zYWljZWQvYXNzZXRzL2phdmFzY3JpcHRzL2FwcC9jb250cm9sbGVycy9lZGl0X2NvdXJzZV9jb250cm9sbGVyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFBLENBQU8sQ0FBRSxVQUFGLEVBQWMsUUFBZCxFQUF3QixRQUF4QixDQUFQLEVBQXlDLFNBQUMsTUFBRCxFQUFTLE1BQVQsRUFBaUIsVUFBakIsR0FBQTtBQUV2QyxNQUFBLG9CQUFBO0FBQUEsRUFBQSxVQUFVLENBQUMsTUFBWCxDQUFtQix3QkFBbkIsQ0FBQSxDQUFBO0FBQUEsRUFFTTtBQUVTLElBQUEsOEJBQUMsTUFBRCxFQUFTLE9BQVQsRUFBa0IsSUFBbEIsRUFBd0IsWUFBeEIsRUFBc0MsVUFBdEMsRUFBa0QsUUFBbEQsR0FBQTtBQUNYLE1BQUEsTUFBTSxDQUFDLFVBQVAsR0FBb0I7QUFBQSxRQUFDLE9BQUEsRUFBUyxFQUFWO09BQXBCLENBQUE7QUFBQSxNQUVBLE1BQU0sQ0FBQyxRQUFQLEdBQWtCLFNBQUMsTUFBRCxFQUFTLE9BQVQsRUFBa0IsU0FBbEIsRUFBNkIsVUFBN0IsRUFBeUMsU0FBekMsRUFBb0QsV0FBcEQsRUFBaUUsWUFBakUsR0FBQTtBQUNoQixZQUFBLG1GQUFBO0FBQUEsUUFBQSxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQWxCLEdBQTJCLE1BQTNCLENBQUE7QUFBQSxRQUNBLE1BQU0sQ0FBQyxVQUFVLENBQUMsT0FBbEIsR0FBNEIsT0FENUIsQ0FBQTtBQUFBLFFBRUEsTUFBTSxDQUFDLFVBQVUs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QUFnQyxTQUFDLENBQUQsR0FBQTtBQUM5QixVQUFBLENBQUMsQ0FBQyxjQUFGLENBQUEsQ0FBQSxDQUFBO0FBQUEsVUFDQSxVQUFVLENBQUMsT0FBTyxDQUFDLEtBQW5CLENBQTBCLFVBQUEsR0FBVSxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFuQyxHQUF1QyxTQUF2QyxHQUFnRCxPQUExRSxDQUFvRixDQUFDLEdBQXJGLENBQXlGLElBQXpGLENBREEsQ0FBQTtpQkFFQSxVQUFVLENBQUMsV0FBWCxHQUF5QixNQUhLO1FBQUEsRUFOSDtNQUFBLENBaEgvQixDQURXO0lBQUEsQ0FBYjs7Z0NBQUE7O01BSkYsQ0FBQTtBQUFBLEVBa0lBLG9CQUFvQixDQUFDLE9BQXJCLEdBQStCLENBQUUsUUFBRixFQUFZLFNBQVosRUFBdUIsTUFBdkIsRUFBK0IsY0FBL0IsRUFBK0MsWUFBL0MsRUFBNkQsVUFBN0QsQ0FsSS9CLENBQUE7QUFBQSxFQW9JQSxNQUFNLENBQUMsVUFBUCxDQUFtQixzQkFBbkIsRUFBMEMsb0JBQTFDLENBcElBLENBQUE7U0FzSUEscUJBeEl1QztBQUFBLENBQXpDLENBQUEsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImRlZmluZSBbJ2FwcC9iYXNlJywgJ21hcmtlZCcsICdwaWNrZXInXSwgKEFuZ0FwcCwgbWFya2VkLCBmaWxlcGlja2VyKSAtPlxuXG4gIGZpbGVwaWNrZXIuc2V0S2V5KFwiQWJUaXdUUVF5Ums2NFEwaU9vUUhyelwiKVxuXG4gIGNsYXNzIEVkaXRDb3Vyc2VDb250cm9sbGVyXG5cbiAgICBjb25zdHJ1Y3RvcjogKCRzY29wZSwgJHdpbmRvdywgJHNjZSwgJHJvdXRlUGFyYW1zLCAkcm9vdFNjb3BlLCAkdGltZW91dCkgLT5cbiAgICAgICRzY29wZS5lZGl0Q291cnNlID0ge2NvbnRlbnQ6IHt9fVxuXG4gICAgICAkc2NvcGUuYm9vdEVkaXQgPSAoY291cnNlLCB1bml0S2V5LCBsZXNzb25LZXksIHByb2plY3RLZXksIHVuaXRJbmRleCwgbGVzc29uSW5kZXgsIHByb2plY3RJbmRleCkgLT5cbiAgICAgICAgJHNjb3BlLmVkaXRDb3Vyc2UuY291cnNlID0gY291cnNlXG4gICAgICAgICRzY29wZS5lZGl0Q291cnNlLnVuaXRLZXkgPSB1bml0S2V5XG4gICAgICAgICRzY29wZS5lZGl0Q291cnNlLmxlc3NvbktleSA9IGxlc3NvbktleVxuICAgICAgICAkc2NvcGUuZWRpdENvdXJzZS5wcm9qZWN0S2V5ID0gcHJvamVjdEtleVxuXG4gICAgICAgICRzY29wZS5lZGl0Q291cnNlLnVuaXRJbmRleCA9IHVuaXRJbmRleFxuICAgICAgICAkc2NvcGUuZWRpdENvdXJzZS5sZXNzb25JbmRleCA9IGxlc3NvbkluZGV4XG4gICAgICAgICRzY29wZS5lZGl0Q291cnNlLnByb2plY3RJbmRleCA9IHByb2plY3RJbmRleFxuXG4gICAgICAgICRzY29wZS5lZGl0Q291cnNlLmNvbnRlbnQuaHRtbCA9ICRzY2UudHJ1c3RBc0h0bWwoJHNjb3BlLmVkaXRDb3Vyc2UuY291cnNlLnVuaXRzP1t1bml0S2V5XT8ubGVzc29ucz9bbGVzc29uS2V5XT8ucHJvamVjdHM/W3Byb2plY3RLZXldPy5odG1sIHx8ICcnLCB7c2FuaXRpemU6IGZhbHNlfSlcbiAgICAgICAgJHNjb3BlLmVkaXRDb3Vyc2UuY29udGVudC5tYXJrZG93biA9ICRzY29wZS5lZGl0Q291cnNlLmNvdXJzZS51bml0cz9bdW5pdEtleV0/Lmxlc3NvbnM/W2xlc3NvbktleV0/LnByb2plY3RzP1twcm9qZWN0S2V5XT8ubWFya2Rvd24gfHwgJydcblxuXG4gICAgICAgICR0aW1lb3V0IC0+XG4gICAgICAgICAgJHNjb3BlLnBhbmVIZWlnaHROdW1iZXIgPSAkd2luZG93LmlubmVySGVpZ2h0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbmF2Jykub2Zmc2V0SGVpZ2h0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnRvci1kYXNoYm9hcmQnKS5vZmZzZXRIZWlnaHQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY291cnNlcy10YWItb3B0aW9uLWRhc2hib2FyZCcpLm9mZnNldEhlaWdodFxuICAgICAgICAgICRzY29wZS5wYW5lSGVpZ2h0ID0gJHNjb3BlLnBhbmVIZWlnaHROdW1iZXIgKyAncHgnXG4gICAgICAgICAgJHNjb3BlLnBhbmVTdHlsZSA9IHsnbWF4LWhlaWdodCc6ICRzY29wZS5wYW5lSGVpZ2h0LCAnbWluLWhlaWdodCc6ICRzY29wZS5wYW5lSGVpZ2h0fVxuXG4gICAgICAgICAgJHNjb3BlLmVkaXRQYW5lSGVpZ2h0TnVtYmVyID0gJHNjb3BlLnBhbmVIZWlnaHROdW1iZXIgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdC1wYW5lLW9wdGlvbnMnKS5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAkc2NvcGUuZWRpdFBhbmVIZWlnaHQgPSAkc2NvcGUuZWRpdFBhbmVIZWlnaHROdW1iZXIgLSA1ICsgJ3B4J1xuICAgICAgICAgICRzY29wZS5lZGl0UGFuZVN0eWxlID0geydtYXgtaGVpZ2h0JzogJHNjb3BlLmVkaXRQYW5lSGVpZ2h0LCAnbWluLWhlaWdodCc6ICRzY29wZS5lZGl0UGFuZUhlaWdodH1cblxuICAgICAgICAgICRzY29wZS5tZW51UGFuZUhlaWdodE51bWJlciA9ICRzY29wZS5wYW5lSGVpZ2h0TnVtYmVyIC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUtcGFuZS1vcHRpb25zJykub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgJHNjb3BlLm1lbnVQYW5lSGVpZ2h0ID0gJHNjb3BlLm1lbnVQYW5lSGVpZ2h0TnVtYmVyICsgJ3B4J1xuICAgICAgICAgICRzY29wZS5tZW51UGFuZVN0eWxlID0geydtYXgtaGVpZ2h0JzogJHNjb3BlLm1lbnVQYW5lSGVpZ2h0LCAnbWluLWhlaWdodCc6ICRzY29wZS5tZW51UGFuZUhlaWdodH1cbiAgICAgICAgLCAxMDAgIFxuXG4gICAgICAkc2NvcGUuZWRpdENvdXJzZS5jb252ZXJ0TWFya2VkID0gKCkgLT5cbiAgICAgICAgJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiY291cnNlcy8jeyRzY29wZS5lZGl0Q291cnNlLmNvdXJzZS4kaWR9L3VuaXRzLyN7JHNjb3BlLmVkaXRDb3Vyc2UudW5pdEtleX0vbGVzc29ucy8jeyRzY29wZS5lZGl0Q291cnNlLmxlc3NvbktleX0vcHJvamVjdHMvI3skc2NvcGUuZWRpdENvdXJzZS5wcm9qZWN0S2V5fS9tYXJrZG93blwiKS5zZXQgJHNjb3BlLmVkaXRDb3Vyc2UuY29udGVudC5tYXJrZG93blxuICAgICAgICAkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJjb3Vyc2VzLyN7JHNjb3BlLmVkaXRDb3Vyc2UuY291cnNlLiRpZH0vdW5pdHMvI3skc2NvcGUuZWRpdENvdXJzZS51bml0S2V5fS9sZXNzb25zLyN7JHNjb3BlLmVkaXRDb3Vyc2UubGVzc29uS2V5fS9wcm9qZWN0cy8jeyRzY29wZS5lZGl0Q291cnNlLnByb2plY3RLZXl9L2h0bWxcIikuc2V0IG1hcmtlZCgkc2NvcGUuZWRpdENvdXJzZS5jb250ZW50Lm1hcmtkb3duIHx8IFwiXCIsIHtzYW5pdGl6ZTogZmFsc2V9KVxuICAgICAgICAkc2NvcGUuZWRpdENvdXJzZS5jb250ZW50Lmh0bWwgPSAkc2NlLnRydXN0QXNIdG1sKG1hcmtlZCgkc2NvcGUuZWRpdENvdXJzZS5jb250ZW50Lm1hcmtkb3duIHx8IFwiXCIsIHtzYW5pdGl6ZTogZmFsc2V9KSlcblxuXG4gICAgICAkc2NvcGUuZWRpdENvdXJzZS5jaGFuZ2VQcm9qZWN0ID0gKHVuaXRLZXksIGxlc3NvbktleSwgcHJvamVjdEtleSwgdW5pdEluZGV4LCBsZXNzb25JbmRleCwgcHJvamVjdEluZGV4KSAtPiAgXG4gICAgICAgICRzY29wZS5lZGl0Q291cnNlLnVuaXRLZXkgPSB1bml0S2V5ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgJHNjb3BlLmVkaXRDb3Vyc2UubGVzc29uS2V5ID0gbGVzc29uS2V5ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgJHNjb3BlLmVkaXRDb3Vyc2UucHJvamVjdEtleSA9IHByb2plY3RLZXlcbiAgICAgICAgJHNjb3BlLmVkaXRDb3Vyc2UudW5pdEluZGV4ID0gdW5pdEluZGV4XG4gICAgICAgICRzY29wZS5lZGl0Q291cnNlLmxlc3NvbkluZGV4ID0gbGVzc29uSW5kZXggICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAkc2NvcGUuZWRpdENvdXJzZS5wcm9qZWN0SW5kZXggPSBwcm9qZWN0SW5kZXhcbiAgICAgICAgJHNjb3BlLmVkaXRDb3Vyc2UuY29udGVudC5odG1sID0gJHNjZS50cnVzdEFzSHRtbCgkc2NvcGUuZWRpdENvdXJzZS5jb3Vyc2UudW5pdHNbdW5pdEtleV0ubGVzc29uc1tsZXNzb25LZXldLnByb2plY3RzW3Byb2plY3RLZXldLmh0bWwgfHwgJycsIHtzYW5pdGl6ZTogZmFsc2V9KVxuICAgICAgICAkc2NvcGUuZWRpdENvdXJzZS5jb250ZW50Lm1hcmtkb3duID0gJHNjb3BlLmVkaXRDb3Vyc2UuY291cnNlLnVuaXRzW3VuaXRLZXldLmxlc3NvbnNbbGVzc29uS2V5XS5wcm9qZWN0c1twcm9qZWN0S2V5XS5tYXJrZG93biB8fCAnJ1xuXG5cbiAgICAgICRzY29wZS5lZGl0Q291cnNlLm9uQ2hhbmdlTmFtZXMgPSAobmV3VmFsKSAtPlxuICAgICAgICAkc2NvcGUuZWRpdENvdXJzZS5jb3Vyc2UuJHNhdmUoKVxuICAgICAgICAkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJjb3Vyc2VzL2luZGV4LyN7JHNjb3BlLmVkaXRDb3Vyc2UuY291cnNlLiRpZH0vbmFtZVwiKS5zZXQgJHNjb3BlLmVkaXRDb3Vyc2UuY291cnNlLm5hbWVcblxuXG4gICAgICAkc2NvcGUuZWRpdENvdXJzZS5hZGRVbml0ID0gKCkgLT5cbiAgICAgICAgJHNjb3BlLmVkaXRDb3Vyc2UuY3JlYXRpbmdVbml0ID0gdHJ1ZVxuICAgICAgICB1bml0UmVmID0gJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiY291cnNlcy8jeyRzY29wZS5lZGl0Q291cnNlLmNvdXJzZS4kaWR9L3VuaXRzXCIpLnB1c2goKVxuICAgICAgICB1bml0UmVmLnNldCB7bmFtZTogXCJOZXcgVW5pdFwifSwgKCkgLT5cbiAgICAgICAgICAkc2NvcGUuJGFwcGx5IC0+XG4gICAgICAgICAgICAkc2NvcGUuZWRpdENvdXJzZS5jcmVhdGluZ1VuaXQgPSBmYWxzZVxuXG4gICAgICAkc2NvcGUuZWRpdENvdXJzZS5hZGRMZXNzb24gPSAodW5pdEtleSkgLT5cbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbEhlYWRlciA9ICdOZXcgTGVzc29uJ1xuICAgICAgICAkcm9vdFNjb3BlLm1vZGFsQ29udGVudCA9ICRzY2UudHJ1c3RBc0h0bWwoJ0VudGVyIGEgbmFtZSBmb3IgeW91ciBuZXcgbGVzc29uOiA8YnI+PGJyPiA8aW5wdXQgbmFtZT1cIm5hbWVcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTGVzc29uIE5hbWVcIiBjbGFzcz1cImxlc3Nvbi1uYW1lIGZvcm0tY29udHJvbCBib3JcIi8+JylcbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbEJ1dHRvblRleHQgPSAnQ3JlYXRlJ1xuICAgICAgICAkcm9vdFNjb3BlLmVuYWJsZU1vZGFsID0gdHJ1ZVxuXG4gICAgICAgICRyb290U2NvcGUub25Nb2RhbEJ1dHRvbkNsaWNrID0gKGUpIC0+XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgaWYgJChcIi5sZXNzb24tbmFtZVwiKS52YWwoKS50cmltKCkubGVuZ3RoID4gMFxuICAgICAgICAgICAgbGVzc1JlZiA9ICRyb290U2NvcGUucm9vdFJlZi5jaGlsZChcImNvdXJzZXMvI3skc2NvcGUuZWRpdENvdXJzZS5jb3Vyc2UuJGlkfS91bml0cy8je3VuaXRLZXl9L2xlc3NvbnNcIikucHVzaCgpXG4gICAgICAgICAgICBsZXNzUmVmLnNldCB7bmFtZTogJChcIi5sZXNzb24tbmFtZVwiKS52YWwoKS50cmltKCl9XG4gICAgICAgICAgICAkcm9vdFNjb3BlLmVuYWJsZU1vZGFsID0gZmFsc2VcblxuXG4gICAgICAkc2NvcGUuZWRpdENvdXJzZS5hZGRQcm9qZWN0ID0gKHVuaXRLZXksIGxlc3NvbktleSkgLT5cbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbEhlYWRlciA9ICdOZXcgUHJvamVjdCdcbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbENvbnRlbnQgPSAkc2NlLnRydXN0QXNIdG1sKCdFbnRlciBhIG5hbWUgZm9yIHlvdXIgbmV3IHByb2plY3Q6IDxicj48YnI+IDxpbnB1dCBuYW1lPVwibmFtZVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJQcm9qZWN0IE5hbWVcIiBjbGFzcz1cInByb2plY3QtbmFtZSBmb3JtLWNvbnRyb2wgYm9yXCIvPicpXG4gICAgICAgICRyb290U2NvcGUubW9kYWxCdXR0b25UZXh0ID0gJ0NyZWF0ZSdcbiAgICAgICAgJHJvb3RTY29wZS5lbmFibGVNb2RhbCA9IHRydWVcblxuICAgICAgICAkcm9vdFNjb3BlLm9uTW9kYWxCdXR0b25DbGljayA9IChlKSAtPlxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgIGlmICQoXCIucHJvamVjdC1uYW1lXCIpLnZhbCgpLnRyaW0oKS5sZW5ndGggPiAwXG4gICAgICAgICAgICBwcm9qUmVmID0gJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiY291cnNlcy8jeyRzY29wZS5lZGl0Q291cnNlLmNvdXJzZS4kaWR9L3VuaXRzLyN7dW5pdEtleX0vbGVzc29ucy8je2xlc3NvbktleX0vcHJvamVjdHNcIikucHVzaCgpXG4gICAgICAgICAgICBwcm9qUmVmLnNldCB7bmFtZTogJChcIi5wcm9qZWN0LW5hbWVcIikudmFsKCkudHJpbSgpLCBpc1RleHQ6IHRydWV9XG4gICAgICAgICAgICAkcm9vdFNjb3BlLmVuYWJsZU1vZGFsID0gZmFsc2VcblxuXG4gICAgICAkc2NvcGUuZWRpdENvdXJzZS5kZWxldGVQcm9qZWN0ID0gKHVuaXRLZXksIGxlc3NvbktleSwgcHJvamVjdEtleSkgLT4gICAgICAgICAgICBcbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbEhlYWRlciA9ICdEZWxldGUgUHJvamVjdCdcbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbENvbnRlbnQgPSAkc2NlLnRydXN0QXNIdG1sKCdBcmUgeW91IHN1cmU/JylcbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbEJ1dHRvblRleHQgPSAnRGVsZXRlJ1xuICAgICAgICAkcm9vdFNjb3BlLmVuYWJsZU1vZGFsID0gdHJ1ZVxuXG4gICAgICAgICRyb290U2NvcGUub25Nb2RhbEJ1dHRvbkNsaWNrID0gKGUpIC0+XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiY291cnNlcy8jeyRzY29wZS5lZGl0Q291cnNlLmNvdXJzZS4kaWR9L3VuaXRzLyN7dW5pdEtleX0vbGVzc29ucy8je2xlc3NvbktleX0vcHJvamVjdHMvI3twcm9qZWN0S2V5fVwiKS5zZXQgbnVsbFxuICAgICAgICAgICRyb290U2NvcGUuZW5hYmxlTW9kYWwgPSBmYWxzZVxuXG5cbiAgICAgICRzY29wZS5lZGl0Q291cnNlLmRlbGV0ZUxlc3NvbiA9ICh1bml0S2V5LCBsZXNzb25LZXkpIC0+ICAgICAgICAgICAgXG4gICAgICAgICRyb290U2NvcGUubW9kYWxIZWFkZXIgPSAnRGVsZXRlIExlc3NvbidcbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbENvbnRlbnQgPSAkc2NlLnRydXN0QXNIdG1sKCdBcmUgeW91IHN1cmU/JylcbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbEJ1dHRvblRleHQgPSAnRGVsZXRlJ1xuICAgICAgICAkcm9vdFNjb3BlLmVuYWJsZU1vZGFsID0gdHJ1ZVxuXG4gICAgICAgICRyb290U2NvcGUub25Nb2RhbEJ1dHRvbkNsaWNrID0gKGUpIC0+XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiY291cnNlcy8jeyRzY29wZS5lZGl0Q291cnNlLmNvdXJzZS4kaWR9L3VuaXRzLyN7dW5pdEtleX0vbGVzc29ucy8je2xlc3NvbktleX1cIikuc2V0IG51bGxcbiAgICAgICAgICAkcm9vdFNjb3BlLmVuYWJsZU1vZGFsID0gZmFsc2UgICAgICAgICAgXG5cblxuXG4gICAgICAkc2NvcGUuZWRpdENvdXJzZS5kZWxldGVVbml0ID0gKHVuaXRLZXkpIC0+ICAgICAgICAgICAgXG4gICAgICAgICRyb290U2NvcGUubW9kYWxIZWFkZXIgPSAnRGVsZXRlIFVuaXQnXG4gICAgICAgICRyb290U2NvcGUubW9kYWxDb250ZW50ID0gJHNjZS50cnVzdEFzSHRtbCgnQXJlIHlvdSBzdXJlPycpXG4gICAgICAgICRyb290U2NvcGUubW9kYWxCdXR0b25UZXh0ID0gJ0RlbGV0ZSdcbiAgICAgICAgJHJvb3RTY29wZS5lbmFibGVNb2RhbCA9IHRydWVcblxuICAgICAgICAkcm9vdFNjb3BlLm9uTW9kYWxCdXR0b25DbGljayA9IChlKSAtPlxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICRyb290U2NvcGUucm9vdFJlZi5jaGlsZChcImNvdXJzZXMvI3skc2NvcGUuZWRpdENvdXJzZS5jb3Vyc2UuJGlkfS91bml0cy8je3VuaXRLZXl9XCIpLnNldCBudWxsXG4gICAgICAgICAgJHJvb3RTY29wZS5lbmFibGVNb2RhbCA9IGZhbHNlICAgICAgICAgIFxuXG4gICAgICBcblxuICBFZGl0Q291cnNlQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJHdpbmRvd1wiLCBcIiRzY2VcIiwgXCIkcm91dGVQYXJhbXNcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHRpbWVvdXRcIl1cblxuICBBbmdBcHAuY29udHJvbGxlciAnRWRpdENvdXJzZUNvbnRyb2xsZXInLCBFZGl0Q291cnNlQ29udHJvbGxlclxuXG4gIEVkaXRDb3Vyc2VDb250cm9sbGVyIl19
