define(['app/base', 'angularjs', 'fbase'], function(AngApp) {
  var MentorController;
  MentorController = (function() {
    function MentorController($scope, FirebaseService, $window, $timeout, $firebaseObject, $firebaseArray, $rootScope, $sce, $location) {
      $scope.coursesTab = {};
      $scope.batchesTab = {};
      $scope.layoutTab = {};
      $scope.appointmentsTab = {};
      $scope.paymentsTab = {};
      $scope.guildsTab = {};
      $scope.coursesTab.boot = function() {
        $scope.selectedTab = 'COURSES';
        $scope.coursesTab.activePane = 'Overview';
        $scope.tpl = "javascripts/app/templates/mentor/courses.html";
        if ($scope.coursesTab.coursesIndex) {
          $scope.coursesTab.coursesIndex.$destroy();
        }
        $scope.coursesTab.coursesIndex = $firebaseArray($rootScope.currentUserRef.child("courses/index"));
        return $scope.coursesTab.coursesIndex.$loaded(function(x) {
          if (x.length > 0) {
            $scope.coursesTab.changeCourse($scope.coursesTab.coursesIndex[0]);
          }
          $scope.paneHeightNumber = $window.innerHeight - document.querySelector('nav').offsetHeight - document.querySelector('.mentor-dashboard').offsetHeight - document.querySelector('.courses-tab-option-dashboard').offsetHeight;
          $scope.paneHeight = $scope.paneHeightNumber + 'px';
          return $scope.paneStyle = {
            'max-height': $scope.paneHeight,
            'min-height': $scope.paneHeight
          };
        });
      };
      $scope.coursesTab.boot();
      $scope.getFirstKey = function(obj) {
        if (obj) {
          return Object.keys(obj)[0];
        }
      };
      $scope.coursesTab.changeCourse = function(course) {
        if (course) {
          if ($scope.coursesTab.currentCourse) {
            $scope.coursesTab.currentCourse.$destroy();
          }
          $scope.coursesTab.currentCourse = $firebaseObject($rootScope.rootRef.child("courses/" + course.$id));
          return $scope.coursesTab.currentCourse.$loaded(function(x) {
            var firstLessonKey, firstProjectKey, firstUnitKey;
            if (x) {
              firstUnitKey = $scope.getFirstKey(course.units);
              if (firstUnitKey) {
                firstLessonKey = $scope.getFirstKey(course.units[firstUnitKey].lessons);
                if (firstLessonKey) {
                  $scope.coursesTab.lessonKey = firstLessonKey;
                  firstProjectKey = $scope.getFirstKey(course.units[firstUnitKey].lessons[firstLessonKey].projects);
                  if (firstProjectKey) {
                    $scope.coursesTab.projectKey = firstProjectKey;
                    return $scope.coursesTab.changeProject(firstUnitKey, firstLessonKey, firstProjectKey, 1, 1, 1);
                  } else {
                    $scope.coursesTab.projectHtml = '';
                    return $scope.coursesTab.resetKeys();
                  }
                } else {
                  $scope.coursesTab.projectHtml = '';
                  return $scope.coursesTab.resetKeys();
                }
              } else {
                $scope.coursesTab.projectHtml = '';
                return $scope.coursesTab.resetKeys();
              }
            }
          });
        }
      };
      $scope.coursesTab.changeProject = function(unitKey, lessonKey, projectKey, unitIndex, lessonIndex, projectIndex) {
        $scope.coursesTab.unitKey = unitKey;
        $scope.coursesTab.lessonKey = lessonKey;
        $scope.coursesTab.projectKey = projectKey;
        $scope.coursesTab.unitIndex = unitIndex;
        $scope.coursesTab.lessonIndex = lessonIndex;
        $scope.coursesTab.projectIndex = projectIndex;
        return $scope.coursesTab.projectHtml = $sce.trustAsHtml($scope.coursesTab.currentCourse.units[$scope.coursesTab.unitKey].lessons[$scope.coursesTab.lessonKey].projects[$scope.coursesTab.projectKey].html);
      };
      $scope.coursesTab.resetKeys = function() {
        $scope.coursesTab.unitKey = null;
        $scope.coursesTab.lessonKey = null;
        $scope.coursesTab.projectKey = null;
        $scope.coursesTab.unitIndex = null;
        $scope.coursesTab.lessonIndex = null;
        return $scope.coursesTab.projectIndex = null;
      };
      $scope.coursesTab.addNewCourse = function() {
        $rootScope.modalHeader = 'New Course';
        $rootScope.modalContent = $sce.trustAsHtml('Enter a name for your new course: <br><br> <input name="name" type="text" placeholder="Course Name" class="course-name form-control bor"/>');
        $rootScope.modalButtonText = 'Create';
        $rootScope.enableModal = true;
        return $rootScope.onModalButtonClick = function(e) {
          var course, courseCode, courseName, lessonRef, projectRef, ref, unitRef;
          e.preventDefault();
          $rootScope.enableModal = false;
          courseName = document.querySelector('.course-name').value.trim();
          if (courseName.length > 0) {
            ref = $rootScope.rootRef.child('courses').push();
            courseCode = Math.random().toString(36).substring(10).toUpperCase();
            ref.setWithPriority({
              courseCode: courseCode,
              name: courseName
            }, courseName);
            ref.child("members/" + $rootScope.currentUid).set({
              memberId: $rootScope.currentUid
            });
            unitRef = ref.child('units').push();
            unitRef.set({
              name: 'A Unit'
            });
            lessonRef = unitRef.child('lessons').push();
            lessonRef.set({
              name: 'A Lesson'
            });
            projectRef = lessonRef.child("projects").push();
            projectRef.set({
              name: 'A Project'
            });
            $rootScope.currentUserRef.child("courses/index/" + (ref.key())).set({
              courseId: ref.key(),
              courseName: courseName
            });
            $rootScope.rootRef.child("courses/index/" + (ref.key())).setWithPriority({
              courseCode: courseCode,
              name: courseName
            }, courseName);
            course = {};
            course['$id'] = ref.key();
            return $scope.coursesTab.changeCourse(course);
          }
        };
      };
      $scope.coursesTab.deleteCourse = function() {
        $rootScope.modalHeader = 'Delete Course';
        $rootScope.modalContent = $sce.trustAsHtml('Are you sure?');
        $rootScope.modalButtonText = 'Delete';
        $rootScope.enableModal = true;
        return $rootScope.onModalButtonClick = function(e) {
          e.preventDefault();
          if ($scope.coursesTab.currentCourse) {
            $scope.coursesTab.currentCourse.$destroy();
          }
          $timeout(function() {
            $rootScope.rootRef.child("courses/" + $scope.coursesTab.currentCourse.$id).set(null);
            $rootScope.rootRef.child("users/" + $rootScope.currentUid + "/courses/index/" + $scope.coursesTab.currentCourse.$id).set(null);
            return $rootScope.rootRef.child("courses/index/" + $scope.coursesTab.currentCourse.$id).set(null);
          }, 100);
          $rootScope.enableModal = false;
          return $scope.coursesTab.boot();
        };
      };
      $scope.batchesTab.boot = function() {
        $scope.coursesTab.coursesIndex = $firebaseArray($rootScope.rootRef.child("courses/index"));
        return $scope.batchesTab.coursesIndex.$loaded(function(x) {
          var timeLater, timeNow;
          if (x) {
            $scope.batchesTab.changeCourse($scope.batchesTab.coursesIndex[0]);
            $scope.batchesTab.paneHeightNumber = $window.innerHeight - document.querySelector('nav').offsetHeight - document.querySelector('.mentor-dashboard').offsetHeight - document.querySelector('.batches-tab-option-dashboard').offsetHeight;
            $scope.batchesTab.paneHeight = $scope.batchesTab.paneHeightNumber + 'px';
            $scope.batchesTab.paneStyle = {
              'max-height': $scope.batchesTab.paneHeight,
              'min-height': $scope.batchesTab.paneHeight
            };
            $scope.batchesTab.selectedTab = 'CURRENT BATCHES';
            timeNow = moment();
            timeLater = moment().add(3, 'months');
            return $scope.batchesTab.newBatchModel = {
              startDate: timeNow.toDate(),
              endDate: timeLater.toDate(),
              studentLimit: 1
            };
          }
        });
      };
      $scope.batchesTab.changeCourse = function(course) {
        console.log(course);
        if ($scope.batchesTab.currentBatches) {
          $scope.batchesTab.currentBatches.$destroy();
        }
        if ($scope.batchesTab.currentCourse) {
          $scope.batchesTab.currentCourse.$destroy();
        }
        if ($scope.batchesTab.finishedBatches) {
          $scope.batchesTab.finishedBatches.$destroy();
        }
        $scope.batchesTab.currentBatches = $firebaseArray($rootScope.rootRef.child("batches/" + course.$id + "/" + $rootScope.currentUid).startAt('CURRENT').endAt('CURRENT'));
        $scope.batchesTab.finishedBatches = $firebaseArray($rootScope.rootRef.child("batches/" + course.$id + "/" + $rootScope.currentUid).startAt('FINISHED').endAt('FINISHED'));
        return $scope.batchesTab.currentCourse = $firebaseObject($rootScope.rootRef.child("courses/" + course.$id));
      };
      $scope.batchesTab.createBatch = function(startDate, endDate, newBatchForm) {
        var batchCode, batchRef;
        if (newBatchForm.$valid) {
          $scope.showNewBatchFormSpinner = true;
          batchRef = $rootScope.rootRef.child("batches/" + $scope.batchesTab.currentCourse.$id + "/" + $rootScope.currentUid).push();
          batchCode = Math.random().toString(36).substring(10).toUpperCase();
          $rootScope.currentUserRef.child("batches/index").push().set({
            batchCode: batchCode,
            courseId: $scope.batchesTab.currentCourse.$id,
            mentorId: $rootScope.currentUid,
            batchId: batchRef.key()
          });
          return batchRef.setWithPriority({
            batchCode: batchCode,
            status: 'NEW',
            mentorId: $rootScope.currentUid,
            mentorName: $rootScope.userBasic.firstName + " " + $rootScope.userBasic.lastName,
            courseId: $scope.batchesTab.currentCourse.$id,
            courseName: $scope.batchesTab.currentCourse.name,
            startDate: new moment($scope.batchesTab.newBatchModel.startDate).format('MMMM Do YYYY'),
            endDate: new moment($scope.batchesTab.newBatchModel.endDate).format('MMMM Do YYYY'),
            studentLimit: $scope.batchesTab.newBatchModel.studentLimit
          }, 'CURRENT', function() {
            return $timeout(function() {
              $scope.showNewBatchFormSpinner = false;
              return $scope.batchesTab.selectedTab = 'CURRENT BATCHES';
            });
          });
        }
      };
      $scope.batchesTab.changeStatus = function(batch, status) {
        var batchObj;
        console.log(batch);
        console.log(status);
        if (status === batch.status) {
          $rootScope.rootRef.child("batches/" + batch.courseId + "/" + batch.mentorId + "/" + batch.$id + "/status").set('NEW');
        } else {
          $rootScope.rootRef.child("batches/" + batch.courseId + "/" + batch.mentorId + "/" + batch.$id + "/status").set(status);
        }
        if (status === 'COMPLETED') {
          $rootScope.rootRef.child("batches/" + batch.courseId + "/" + batch.mentorId + "/" + batch.$id).setPriority(status);
        }
        if (status === 'OPEN') {
          batchObj = JSON.parse(angular.toJson(batch));
          delete batchObj.$id;
          delete batchObj.$priority;
          return $rootScope.rootRef.child("batches/index/" + batch.$id).set(batchObj);
        } else {
          return $rootScope.rootRef.child("batches/index/" + batch.$id).set(null);
        }
      };
      $scope.layoutTab.boot = function() {
        $scope.layoutTab.batchesIndex = $firebaseArray($rootScope.rootRef.child("batches/index"));
        return $scope.layoutTab.batchesIndex.$loaded(function(x) {
          return $scope.layoutTab.currentBatch = $scope.layoutTab.batchesIndex[0];
        });
      };
      $scope.guildsTab.boot = function() {
        $scope.guildsTab.guildsIndex = $firebaseArray($rootScope.rootRef.child("guilds/index"));
        $scope.guildsTab.activePane = 'Overview';
        return $scope.guildsTab.guildsIndex.$loaded(function(x) {
          console.log(x);
          $scope.guildsTab.currentGuild = $scope.guildsTab.guildsIndex[0];
          return console.log($scope.guildsTab.currentGuild);
        });
      };
      $scope.guildsTab.createGuild = function() {
        $rootScope.modalHeader = 'New Guild';
        $rootScope.modalContent = $sce.trustAsHtml('Enter a name for your new guild: <br><br> <input name="name" type="text" placeholder="The Ruby Ninjas" class="guild-name form-control bor"/>');
        $rootScope.modalButtonText = 'Create';
        $rootScope.enableModal = true;
        return $rootScope.onModalButtonClick = function(e) {
          var guild, guildCode, guildName, ref;
          e.preventDefault();
          $rootScope.enableModal = false;
          guildName = document.querySelector('.guild-name').value.trim();
          if (guildName.length > 0) {
            ref = $rootScope.rootRef.child('guilds').push();
            guildCode = Math.random().toString(36).substring(10).toUpperCase();
            ref.setWithPriority({
              guildCode: guildCode,
              name: guildName
            }, guildName);
            ref.child("members/" + $rootScope.currentUid).set({
              memberId: $rootScope.currentUid,
              role: 'OWNER'
            });
            $rootScope.currentUserRef.child("guilds/index/" + (ref.key())).set({
              guildId: ref.key(),
              guildName: guildName
            });
            $rootScope.rootRef.child("guilds/index/" + (ref.key())).setWithPriority({
              guildCode: guildCode,
              guildName: guildName
            }, guildName);
            guild = {};
            guild['$id'] = ref.key();
            return $scope.guildsTab.changeGuild(guild);
          }
        };
      };
      $scope.guildsTab.changeGuild = function(guild) {
        if ($scope.guildsTab.currentGuild) {
          $scope.guildsTab.currentGuild.$destroy();
        }
        return $scope.guildsTab.currentGuild = $firebaseObject($rootScope.rootRef.child("guilds/" + guild.$id));
      };
      $timeout(function() {
        $scope.tpl = 'javascripts/app/templates/mentor/guilds.html';
        $scope.guildsTab.boot();
        return $scope.selectedTab = 'GUILDS';
      }, 100);
    }

    return MentorController;

  })();
  MentorController.$inject = ["$scope", "FirebaseService", "$window", "$timeout", "$firebaseObject", "$firebaseArray", "$rootScope", "$sce", "$location"];
  AngApp.controller('MentorController', MentorController);
  return MentorController;
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2tyaXNobmFyb2toYWxlL2NvZGUvbGV2ZWwvbGV2ZWwvcHJvamVjdHMvbW9zYWljZWQvcHVibGljL2phdmFzY3JpcHRzL2FwcC9jb250cm9sbGVycy9tZW50b3JfY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9rcmlzaG5hcm9raGFsZS9jb2RlL2xldmVsL2xldmVsL3Byb2plY3RzL21vc2FpY2VkL2Fzc2V0cy9qYXZhc2NyaXB0cy9hcHAvY29udHJvbGxlcnMvbWVudG9yX2NvbnRyb2xsZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQUEsQ0FBTyxDQUFFLFVBQUYsRUFBYSxXQUFiLEVBQTBCLE9BQTFCLENBQVAsRUFBMEMsU0FBQyxNQUFELEdBQUE7QUFFeEMsTUFBQSxnQkFBQTtBQUFBLEVBQU07QUFFUyxJQUFBLDBCQUFDLE1BQUQsRUFBUyxlQUFULEVBQTBCLE9BQTFCLEVBQW1DLFFBQW5DLEVBQTZDLGVBQTdDLEVBQThELGNBQTlELEVBQThFLFVBQTlFLEVBQTBGLElBQTFGLEVBQWdHLFNBQWhHLEdBQUE7QUFFWCxNQUFBLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLEVBQXBCLENBQUE7QUFBQSxNQUNBLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLEVBRHBCLENBQUE7QUFBQSxNQUVBLE1BQU0sQ0FBQyxTQUFQLEdBQW1CLEVBRm5CLENBQUE7QUFBQSxNQUdBLE1BQU0sQ0FBQyxlQUFQLEdBQXlCLEVBSHpCLENBQUE7QUFBQSxNQUlBLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBSnJCLENBQUE7QUFBQSxNQUtBLE1BQU0sQ0FBQyxTQUFQLEdBQW1CLEVBTG5CLENBQUE7QUFBQSxNQVFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBbEIsR0FBeUIsU0FBQSxHQUFBO0FBQ3ZCLFFBQUEsTUFBTSxDQUFDLFdBQVAsR0FBc0IsU0FBdEIsQ0FBQTtBQUFBLFFBQ0EsTUFBTSxDQUFDLFVBQVUsQ0FB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O01BRkYsQ0FBQTtBQUFBLEVBc1BBLGdCQUFnQixDQUFDLE9BQWpCLEdBQTJCLENBQUUsUUFBRixFQUFZLGlCQUFaLEVBQStCLFNBQS9CLEVBQTBDLFVBQTFDLEVBQXNELGlCQUF0RCxFQUF5RSxnQkFBekUsRUFBMkYsWUFBM0YsRUFBeUcsTUFBekcsRUFBaUgsV0FBakgsQ0F0UDNCLENBQUE7QUFBQSxFQXdQQSxNQUFNLENBQUMsVUFBUCxDQUFtQixrQkFBbkIsRUFBc0MsZ0JBQXRDLENBeFBBLENBQUE7U0EwUEEsaUJBNVB3QztBQUFBLENBQTFDLENBQUEsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImRlZmluZSBbJ2FwcC9iYXNlJywnYW5ndWxhcmpzJywgJ2ZiYXNlJ10sIChBbmdBcHApIC0+XG5cbiAgY2xhc3MgTWVudG9yQ29udHJvbGxlclxuXG4gICAgY29uc3RydWN0b3I6ICgkc2NvcGUsIEZpcmViYXNlU2VydmljZSwgJHdpbmRvdywgJHRpbWVvdXQsICRmaXJlYmFzZU9iamVjdCwgJGZpcmViYXNlQXJyYXksICRyb290U2NvcGUsICRzY2UsICRsb2NhdGlvbikgLT5cblxuICAgICAgJHNjb3BlLmNvdXJzZXNUYWIgPSB7fVxuICAgICAgJHNjb3BlLmJhdGNoZXNUYWIgPSB7fVxuICAgICAgJHNjb3BlLmxheW91dFRhYiA9IHt9XG4gICAgICAkc2NvcGUuYXBwb2ludG1lbnRzVGFiID0ge31cbiAgICAgICRzY29wZS5wYXltZW50c1RhYiA9IHt9XG4gICAgICAkc2NvcGUuZ3VpbGRzVGFiID0ge31cblxuXG4gICAgICAkc2NvcGUuY291cnNlc1RhYi5ib290ID0gKCkgLT5cbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkVGFiID0gJ0NPVVJTRVMnXG4gICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLmFjdGl2ZVBhbmUgPSAnT3ZlcnZpZXcnXG4gICAgICAgICRzY29wZS50cGw9IFwiamF2YXNjcmlwdHMvYXBwL3RlbXBsYXRlcy9tZW50b3IvY291cnNlcy5odG1sXCJcbiAgICAgICAgIyAkc2NvcGUuY291cnNlc1RhYi5jb3Vyc2VzSW5kZXggPSAkZmlyZWJhc2VBcnJheSgkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJjb3Vyc2VzL2luZGV4XCIpKVxuICAgICAgICAkc2NvcGUuY291cnNlc1RhYi5jb3Vyc2VzSW5kZXguJGRlc3Ryb3koKSBpZiAkc2NvcGUuY291cnNlc1RhYi5jb3Vyc2VzSW5kZXhcbiAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIuY291cnNlc0luZGV4ID0gJGZpcmViYXNlQXJyYXkoJHJvb3RTY29wZS5jdXJyZW50VXNlclJlZi5jaGlsZChcImNvdXJzZXMvaW5kZXhcIikpXG4gICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLmNvdXJzZXNJbmRleC4kbG9hZGVkICh4KSAtPlxuICAgICAgICAgIGlmIHgubGVuZ3RoID4gMFxuICAgICAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIuY2hhbmdlQ291cnNlKCRzY29wZS5jb3Vyc2VzVGFiLmNvdXJzZXNJbmRleFswXSlcbiAgICAgICAgICAkc2NvcGUucGFuZUhlaWdodE51bWJlciA9ICR3aW5kb3cuaW5uZXJIZWlnaHQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCduYXYnKS5vZmZzZXRIZWlnaHQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudG9yLWRhc2hib2FyZCcpLm9mZnNldEhlaWdodCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3Vyc2VzLXRhYi1vcHRpb24tZGFzaGJvYXJkJykub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgJHNjb3BlLnBhbmVIZWlnaHQgPSAkc2NvcGUucGFuZUhlaWdodE51bWJlciArICdweCdcbiAgICAgICAgICAkc2NvcGUucGFuZVN0eWxlID0geydtYXgtaGVpZ2h0JzogJHNjb3BlLnBhbmVIZWlnaHQsICdtaW4taGVpZ2h0JzogJHNjb3BlLnBhbmVIZWlnaHR9XG5cbiAgICAgICRzY29wZS5jb3Vyc2VzVGFiLmJvb3QoKSAgICAgIFxuXG4gICAgICAkc2NvcGUuZ2V0Rmlyc3RLZXkgPSAob2JqKSAtPlxuICAgICAgICBpZiBvYmpcbiAgICAgICAgICBPYmplY3Qua2V5cyhvYmopWzBdICAgICAgICAgICAgICAgICBcblxuICAgICAgJHNjb3BlLmNvdXJzZXNUYWIuY2hhbmdlQ291cnNlID0gKGNvdXJzZSkgLT4gICAgXG4gICAgICAgIGlmIGNvdXJzZVxuICAgICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLmN1cnJlbnRDb3Vyc2UuJGRlc3Ryb3koKSBpZiAkc2NvcGUuY291cnNlc1RhYi5jdXJyZW50Q291cnNlXG4gICAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIuY3VycmVudENvdXJzZSA9ICRmaXJlYmFzZU9iamVjdCgkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJjb3Vyc2VzLyN7Y291cnNlLiRpZH1cIikpXG4gICAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIuY3VycmVudENvdXJzZS4kbG9hZGVkICh4KSAtPlxuICAgICAgICAgICAgaWYgeFxuICAgICAgICAgICAgICBmaXJzdFVuaXRLZXkgPSAkc2NvcGUuZ2V0Rmlyc3RLZXkoY291cnNlLnVuaXRzKVxuICAgICAgICAgICAgICBpZiBmaXJzdFVuaXRLZXlcbiAgICAgICAgICAgICAgICBmaXJzdExlc3NvbktleSA9ICRzY29wZS5nZXRGaXJzdEtleShjb3Vyc2UudW5pdHNbZmlyc3RVbml0S2V5XS5sZXNzb25zKVxuICAgICAgICAgICAgICAgIGlmIGZpcnN0TGVzc29uS2V5XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY291cnNlc1RhYi5sZXNzb25LZXkgPSBmaXJzdExlc3NvbktleSAgXG4gICAgICAgICAgICAgICAgICBmaXJzdFByb2plY3RLZXkgPSAkc2NvcGUuZ2V0Rmlyc3RLZXkoY291cnNlLnVuaXRzW2ZpcnN0VW5pdEtleV0ubGVzc29uc1tmaXJzdExlc3NvbktleV0ucHJvamVjdHMpXG4gICAgICAgICAgICAgICAgICBpZiBmaXJzdFByb2plY3RLZXlcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIucHJvamVjdEtleSA9IGZpcnN0UHJvamVjdEtleVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291cnNlc1RhYi5jaGFuZ2VQcm9qZWN0KGZpcnN0VW5pdEtleSwgZmlyc3RMZXNzb25LZXksIGZpcnN0UHJvamVjdEtleSwgMSwgMSwgMSlcbiAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIucHJvamVjdEh0bWwgPSAnJ1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291cnNlc1RhYi5yZXNldEtleXMoKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLnByb2plY3RIdG1sID0gJydcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLnJlc2V0S2V5cygpXG4gICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291cnNlc1RhYi5wcm9qZWN0SHRtbCA9ICcnXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIucmVzZXRLZXlzKClcblxuXG4gICAgICAkc2NvcGUuY291cnNlc1RhYi5jaGFuZ2VQcm9qZWN0ID0gKHVuaXRLZXksIGxlc3NvbktleSwgcHJvamVjdEtleSwgdW5pdEluZGV4LCBsZXNzb25JbmRleCwgcHJvamVjdEluZGV4KSAtPiAgXG4gICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLnVuaXRLZXkgPSB1bml0S2V5ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIubGVzc29uS2V5ID0gbGVzc29uS2V5ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIucHJvamVjdEtleSA9IHByb2plY3RLZXlcbiAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIudW5pdEluZGV4ID0gdW5pdEluZGV4XG4gICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLmxlc3NvbkluZGV4ID0gbGVzc29uSW5kZXggICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAkc2NvcGUuY291cnNlc1RhYi5wcm9qZWN0SW5kZXggPSBwcm9qZWN0SW5kZXhcblxuICAgICAgICAkc2NvcGUuY291cnNlc1RhYi5wcm9qZWN0SHRtbCA9ICRzY2UudHJ1c3RBc0h0bWwoKCRzY29wZS5jb3Vyc2VzVGFiLmN1cnJlbnRDb3Vyc2UudW5pdHNbJHNjb3BlLmNvdXJzZXNUYWIudW5pdEtleV0ubGVzc29uc1skc2NvcGUuY291cnNlc1RhYi5sZXNzb25LZXldLnByb2plY3RzWyRzY29wZS5jb3Vyc2VzVGFiLnByb2plY3RLZXldKS5odG1sKVxuXG5cbiAgICAgICRzY29wZS5jb3Vyc2VzVGFiLnJlc2V0S2V5cyA9ICgpIC0+XG4gICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLnVuaXRLZXkgPSBudWxsXG4gICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLmxlc3NvbktleSA9IG51bGxcbiAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIucHJvamVjdEtleSA9IG51bGxcbiAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIudW5pdEluZGV4ID0gbnVsbFxuICAgICAgICAkc2NvcGUuY291cnNlc1RhYi5sZXNzb25JbmRleCA9IG51bGxcbiAgICAgICAgJHNjb3BlLmNvdXJzZXNUYWIucHJvamVjdEluZGV4ID0gbnVsbCAgICAgICAgICAgICAgICAgICAgXG5cblxuXG4gICAgICAkc2NvcGUuY291cnNlc1RhYi5hZGROZXdDb3Vyc2UgPSAtPlxuICAgICAgICAkcm9vdFNjb3BlLm1vZGFsSGVhZGVyID0gJ05ldyBDb3Vyc2UnXG4gICAgICAgICRyb290U2NvcGUubW9kYWxDb250ZW50ID0gJHNjZS50cnVzdEFzSHRtbCgnRW50ZXIgYSBuYW1lIGZvciB5b3VyIG5ldyBjb3Vyc2U6IDxicj48YnI+IDxpbnB1dCBuYW1lPVwibmFtZVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJDb3Vyc2UgTmFtZVwiIGNsYXNzPVwiY291cnNlLW5hbWUgZm9ybS1jb250cm9sIGJvclwiLz4nKVxuICAgICAgICAkcm9vdFNjb3BlLm1vZGFsQnV0dG9uVGV4dCA9ICdDcmVhdGUnXG4gICAgICAgICRyb290U2NvcGUuZW5hYmxlTW9kYWwgPSB0cnVlXG5cbiAgICAgICAgJHJvb3RTY29wZS5vbk1vZGFsQnV0dG9uQ2xpY2sgPSAoZSkgLT5cbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAkcm9vdFNjb3BlLmVuYWJsZU1vZGFsID0gZmFsc2VcbiAgICAgICAgICBjb3Vyc2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdXJzZS1uYW1lJykudmFsdWUudHJpbSgpXG4gICAgICAgICAgaWYgY291cnNlTmFtZS5sZW5ndGggPiAwXG4gICAgICAgICAgICByZWYgPSAkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoJ2NvdXJzZXMnKS5wdXNoKClcbiAgICAgICAgICAgIGNvdXJzZUNvZGUgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMTApLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgIHJlZi5zZXRXaXRoUHJpb3JpdHkge2NvdXJzZUNvZGU6IGNvdXJzZUNvZGUsIG5hbWU6IGNvdXJzZU5hbWV9LCBjb3Vyc2VOYW1lXG4gICAgICAgICAgICByZWYuY2hpbGQoXCJtZW1iZXJzLyN7JHJvb3RTY29wZS5jdXJyZW50VWlkfVwiKS5zZXQge21lbWJlcklkOiAkcm9vdFNjb3BlLmN1cnJlbnRVaWR9XG4gICAgICAgICAgICB1bml0UmVmID0gcmVmLmNoaWxkKCd1bml0cycpLnB1c2goKVxuICAgICAgICAgICAgdW5pdFJlZi5zZXQge25hbWU6ICdBIFVuaXQnfVxuXG4gICAgICAgICAgICBsZXNzb25SZWYgPSB1bml0UmVmLmNoaWxkKCdsZXNzb25zJykucHVzaCgpXG4gICAgICAgICAgICBsZXNzb25SZWYuc2V0IHtuYW1lOiAnQSBMZXNzb24nfVxuICAgICAgICAgICAgcHJvamVjdFJlZiA9IGxlc3NvblJlZi5jaGlsZChcInByb2plY3RzXCIpLnB1c2goKVxuICAgICAgICAgICAgcHJvamVjdFJlZi5zZXQge25hbWU6ICdBIFByb2plY3QnfVxuXG4gICAgICAgICAgICAkcm9vdFNjb3BlLmN1cnJlbnRVc2VyUmVmLmNoaWxkKFwiY291cnNlcy9pbmRleC8je3JlZi5rZXkoKX1cIikuc2V0IHtjb3Vyc2VJZDogcmVmLmtleSgpLCBjb3Vyc2VOYW1lOiBjb3Vyc2VOYW1lfVxuICAgICAgICAgICAgJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiY291cnNlcy9pbmRleC8je3JlZi5rZXkoKX1cIikuc2V0V2l0aFByaW9yaXR5IHtjb3Vyc2VDb2RlOiBjb3Vyc2VDb2RlLCBuYW1lOiBjb3Vyc2VOYW1lfSwgY291cnNlTmFtZVxuICAgICAgICAgICAgY291cnNlID0ge31cbiAgICAgICAgICAgIGNvdXJzZVsnJGlkJ10gPSByZWYua2V5KClcbiAgICAgICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLmNoYW5nZUNvdXJzZShjb3Vyc2UpXG5cblxuICAgICAgJHNjb3BlLmNvdXJzZXNUYWIuZGVsZXRlQ291cnNlID0gKCkgLT4gICAgICAgICAgICBcbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbEhlYWRlciA9ICdEZWxldGUgQ291cnNlJ1xuICAgICAgICAkcm9vdFNjb3BlLm1vZGFsQ29udGVudCA9ICRzY2UudHJ1c3RBc0h0bWwoJ0FyZSB5b3Ugc3VyZT8nKVxuICAgICAgICAkcm9vdFNjb3BlLm1vZGFsQnV0dG9uVGV4dCA9ICdEZWxldGUnXG4gICAgICAgICRyb290U2NvcGUuZW5hYmxlTW9kYWwgPSB0cnVlXG5cbiAgICAgICAgJHJvb3RTY29wZS5vbk1vZGFsQnV0dG9uQ2xpY2sgPSAoZSkgLT5cbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAkc2NvcGUuY291cnNlc1RhYi5jdXJyZW50Q291cnNlLiRkZXN0cm95KCkgaWYgJHNjb3BlLmNvdXJzZXNUYWIuY3VycmVudENvdXJzZSAgICAgICAgICAgXG4gICAgICAgICAgJHRpbWVvdXQgLT4gICAgICAgICAgXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJjb3Vyc2VzLyN7JHNjb3BlLmNvdXJzZXNUYWIuY3VycmVudENvdXJzZS4kaWR9XCIpLnNldCBudWxsXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJ1c2Vycy8jeyRyb290U2NvcGUuY3VycmVudFVpZH0vY291cnNlcy9pbmRleC8jeyRzY29wZS5jb3Vyc2VzVGFiLmN1cnJlbnRDb3Vyc2UuJGlkfVwiKS5zZXQgbnVsbFxuICAgICAgICAgICAgJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiY291cnNlcy9pbmRleC8jeyRzY29wZS5jb3Vyc2VzVGFiLmN1cnJlbnRDb3Vyc2UuJGlkfVwiKS5zZXQgbnVsbFxuICAgICAgICAgICwgMTAwICAgICAgICAgICAgXG4gICAgICAgICAgJHJvb3RTY29wZS5lbmFibGVNb2RhbCA9IGZhbHNlIFxuICAgICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLmJvb3QoKVxuXG5cblxuICAgICAgJHNjb3BlLmJhdGNoZXNUYWIuYm9vdCA9ICgpIC0+XG4gICAgICAgICRzY29wZS5jb3Vyc2VzVGFiLmNvdXJzZXNJbmRleCA9ICRmaXJlYmFzZUFycmF5KCRyb290U2NvcGUucm9vdFJlZi5jaGlsZChcImNvdXJzZXMvaW5kZXhcIikpXG4gICAgICAgICRzY29wZS5iYXRjaGVzVGFiLmNvdXJzZXNJbmRleC4kbG9hZGVkICh4KSAtPlxuICAgICAgICAgIGlmIHhcbiAgICAgICAgICAgICRzY29wZS5iYXRjaGVzVGFiLmNoYW5nZUNvdXJzZSgkc2NvcGUuYmF0Y2hlc1RhYi5jb3Vyc2VzSW5kZXhbMF0pXG4gICAgICAgICAgICAkc2NvcGUuYmF0Y2hlc1RhYi5wYW5lSGVpZ2h0TnVtYmVyID0gJHdpbmRvdy5pbm5lckhlaWdodCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ25hdicpLm9mZnNldEhlaWdodCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW50b3ItZGFzaGJvYXJkJykub2Zmc2V0SGVpZ2h0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhdGNoZXMtdGFiLW9wdGlvbi1kYXNoYm9hcmQnKS5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgICRzY29wZS5iYXRjaGVzVGFiLnBhbmVIZWlnaHQgPSAkc2NvcGUuYmF0Y2hlc1RhYi5wYW5lSGVpZ2h0TnVtYmVyICsgJ3B4J1xuICAgICAgICAgICAgJHNjb3BlLmJhdGNoZXNUYWIucGFuZVN0eWxlID0geydtYXgtaGVpZ2h0JzogJHNjb3BlLmJhdGNoZXNUYWIucGFuZUhlaWdodCwgJ21pbi1oZWlnaHQnOiAkc2NvcGUuYmF0Y2hlc1RhYi5wYW5lSGVpZ2h0fVxuICAgICAgICAgICAgJHNjb3BlLmJhdGNoZXNUYWIuc2VsZWN0ZWRUYWIgPSAnQ1VSUkVOVCBCQVRDSEVTJ1xuICAgICAgICAgICAgIyAkc2NvcGUuYmF0Y2hlc1RhYi5zZWxlY3RlZFRhYiA9ICdORVcgQkFUQ0gnXG4gICAgICAgICAgICB0aW1lTm93ID0gbW9tZW50KClcbiAgICAgICAgICAgIHRpbWVMYXRlciA9IG1vbWVudCgpLmFkZCgzLCAnbW9udGhzJylcbiAgICAgICAgICAgICRzY29wZS5iYXRjaGVzVGFiLm5ld0JhdGNoTW9kZWwgPSB7c3RhcnREYXRlOiB0aW1lTm93LnRvRGF0ZSgpLCBlbmREYXRlOiB0aW1lTGF0ZXIudG9EYXRlKCksIHN0dWRlbnRMaW1pdDogMX1cbiAgICAgICAgICAgIFxuXG5cbiAgICAgICRzY29wZS5iYXRjaGVzVGFiLmNoYW5nZUNvdXJzZSA9IChjb3Vyc2UpIC0+XG4gICAgICAgIGNvbnNvbGUubG9nIGNvdXJzZVxuICAgICAgICAkc2NvcGUuYmF0Y2hlc1RhYi5jdXJyZW50QmF0Y2hlcy4kZGVzdHJveSgpIGlmICRzY29wZS5iYXRjaGVzVGFiLmN1cnJlbnRCYXRjaGVzXG4gICAgICAgICRzY29wZS5iYXRjaGVzVGFiLmN1cnJlbnRDb3Vyc2UuJGRlc3Ryb3koKSBpZiAkc2NvcGUuYmF0Y2hlc1RhYi5jdXJyZW50Q291cnNlXG4gICAgICAgICRzY29wZS5iYXRjaGVzVGFiLmZpbmlzaGVkQmF0Y2hlcy4kZGVzdHJveSgpIGlmICRzY29wZS5iYXRjaGVzVGFiLmZpbmlzaGVkQmF0Y2hlc1xuXG4gICAgICAgICRzY29wZS5iYXRjaGVzVGFiLmN1cnJlbnRCYXRjaGVzID0gJGZpcmViYXNlQXJyYXkoJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiYmF0Y2hlcy8je2NvdXJzZS4kaWR9LyN7JHJvb3RTY29wZS5jdXJyZW50VWlkfVwiKS5zdGFydEF0KCdDVVJSRU5UJykuZW5kQXQoJ0NVUlJFTlQnKSlcbiAgICAgICAgJHNjb3BlLmJhdGNoZXNUYWIuZmluaXNoZWRCYXRjaGVzID0gJGZpcmViYXNlQXJyYXkoJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiYmF0Y2hlcy8je2NvdXJzZS4kaWR9LyN7JHJvb3RTY29wZS5jdXJyZW50VWlkfVwiKS5zdGFydEF0KCdGSU5JU0hFRCcpLmVuZEF0KCdGSU5JU0hFRCcpKVxuICAgICAgICAkc2NvcGUuYmF0Y2hlc1RhYi5jdXJyZW50Q291cnNlID0gJGZpcmViYXNlT2JqZWN0KCRyb290U2NvcGUucm9vdFJlZi5jaGlsZChcImNvdXJzZXMvI3tjb3Vyc2UuJGlkfVwiKSlcbiAgICAgICAgIyAkc2NvcGUuYmF0Y2hlc1RhYi5jdXJyZW50QmF0Y2hlcy4kbG9hZGVkICh4KSAtPlxuICAgICAgICAgICMgaWYgeFxuICAgICAgICAgICAgIyBjb25zb2xlLmxvZyAkc2NvcGUuYmF0Y2hlc1RhYi5jdXJyZW50QmF0Y2hlc1xuXG5cbiAgICAgICRzY29wZS5iYXRjaGVzVGFiLmNyZWF0ZUJhdGNoID0gKHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgbmV3QmF0Y2hGb3JtKSAtPlxuICAgICAgICBpZiBuZXdCYXRjaEZvcm0uJHZhbGlkXG4gICAgICAgICAgJHNjb3BlLnNob3dOZXdCYXRjaEZvcm1TcGlubmVyID0gdHJ1ZVxuICAgICAgICAgIGJhdGNoUmVmID0gJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiYmF0Y2hlcy8jeyRzY29wZS5iYXRjaGVzVGFiLmN1cnJlbnRDb3Vyc2UuJGlkfS8jeyRyb290U2NvcGUuY3VycmVudFVpZH1cIikucHVzaCgpXG4gICAgICAgICAgYmF0Y2hDb2RlID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDEwKS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgJHJvb3RTY29wZS5jdXJyZW50VXNlclJlZi5jaGlsZChcImJhdGNoZXMvaW5kZXhcIikucHVzaCgpLnNldCB7YmF0Y2hDb2RlOiBiYXRjaENvZGUsIGNvdXJzZUlkOiAkc2NvcGUuYmF0Y2hlc1RhYi5jdXJyZW50Q291cnNlLiRpZCwgbWVudG9ySWQ6ICRyb290U2NvcGUuY3VycmVudFVpZCwgYmF0Y2hJZDogYmF0Y2hSZWYua2V5KCl9XG4gICAgICAgICAgYmF0Y2hSZWYuc2V0V2l0aFByaW9yaXR5IHtiYXRjaENvZGU6IGJhdGNoQ29kZSwgc3RhdHVzOiAnTkVXJywgbWVudG9ySWQ6ICRyb290U2NvcGUuY3VycmVudFVpZCAsIG1lbnRvck5hbWU6IFwiI3skcm9vdFNjb3BlLnVzZXJCYXNpYy5maXJzdE5hbWV9ICN7JHJvb3RTY29wZS51c2VyQmFzaWMubGFzdE5hbWV9XCIsIGNvdXJzZUlkOiAkc2NvcGUuYmF0Y2hlc1RhYi5jdXJyZW50Q291cnNlLiRpZCwgY291cnNlTmFtZTogJHNjb3BlLmJhdGNoZXNUYWIuY3VycmVudENvdXJzZS5uYW1lLCBzdGFydERhdGU6IG5ldyBtb21lbnQoJHNjb3BlLmJhdGNoZXNUYWIubmV3QmF0Y2hNb2RlbC5zdGFydERhdGUpLmZvcm1hdCgnTU1NTSBEbyBZWVlZJyksIGVuZERhdGU6IG5ldyBtb21lbnQoJHNjb3BlLmJhdGNoZXNUYWIubmV3QmF0Y2hNb2RlbC5lbmREYXRlKS5mb3JtYXQoJ01NTU0gRG8gWVlZWScpLCBzdHVkZW50TGltaXQ6ICRzY29wZS5iYXRjaGVzVGFiLm5ld0JhdGNoTW9kZWwuc3R1ZGVudExpbWl0fSwgJ0NVUlJFTlQnLCAtPlxuICAgICAgICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICAgICAgICAgJHNjb3BlLnNob3dOZXdCYXRjaEZvcm1TcGlubmVyID0gZmFsc2VcbiAgICAgICAgICAgICAgJHNjb3BlLmJhdGNoZXNUYWIuc2VsZWN0ZWRUYWIgPSAnQ1VSUkVOVCBCQVRDSEVTJ1xuXG4gICAgICAkc2NvcGUuYmF0Y2hlc1RhYi5jaGFuZ2VTdGF0dXMgPSAoYmF0Y2gsIHN0YXR1cykgLT5cbiAgICAgICAgY29uc29sZS5sb2cgYmF0Y2ggICAgICAgICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2cgc3RhdHVzXG4gICAgICAgIGlmIHN0YXR1cyA9PSBiYXRjaC5zdGF0dXNcbiAgICAgICAgICAkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJiYXRjaGVzLyN7YmF0Y2guY291cnNlSWR9LyN7YmF0Y2gubWVudG9ySWR9LyN7YmF0Y2guJGlkfS9zdGF0dXNcIikuc2V0ICdORVcnXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJiYXRjaGVzLyN7YmF0Y2guY291cnNlSWR9LyN7YmF0Y2gubWVudG9ySWR9LyN7YmF0Y2guJGlkfS9zdGF0dXNcIikuc2V0IHN0YXR1c1xuXG4gICAgICAgIGlmIHN0YXR1cyA9PSAnQ09NUExFVEVEJ1xuICAgICAgICAgICRyb290U2NvcGUucm9vdFJlZi5jaGlsZChcImJhdGNoZXMvI3tiYXRjaC5jb3Vyc2VJZH0vI3tiYXRjaC5tZW50b3JJZH0vI3tiYXRjaC4kaWR9XCIpLnNldFByaW9yaXR5IHN0YXR1c1xuXG4gICAgICAgIGlmIHN0YXR1cyA9PSAnT1BFTidcbiAgICAgICAgICBiYXRjaE9iaiA9IEpTT04ucGFyc2UoYW5ndWxhci50b0pzb24oYmF0Y2gpKVxuICAgICAgICAgIGRlbGV0ZSBiYXRjaE9iai4kaWRcbiAgICAgICAgICBkZWxldGUgYmF0Y2hPYmouJHByaW9yaXR5XG4gICAgICAgICAgJHJvb3RTY29wZS5yb290UmVmLmNoaWxkKFwiYmF0Y2hlcy9pbmRleC8je2JhdGNoLiRpZH1cIikuc2V0IGJhdGNoT2JqXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJiYXRjaGVzL2luZGV4LyN7YmF0Y2guJGlkfVwiKS5zZXQgbnVsbCAgICAgICAgICBcblxuXG4gICAgICAkc2NvcGUubGF5b3V0VGFiLmJvb3QgPSAoKSAtPlxuICAgICAgICAkc2NvcGUubGF5b3V0VGFiLmJhdGNoZXNJbmRleCA9ICRmaXJlYmFzZUFycmF5KCRyb290U2NvcGUucm9vdFJlZi5jaGlsZChcImJhdGNoZXMvaW5kZXhcIikpXG4gICAgICAgICRzY29wZS5sYXlvdXRUYWIuYmF0Y2hlc0luZGV4LiRsb2FkZWQgKHgpIC0+XG4gICAgICAgICAgJHNjb3BlLmxheW91dFRhYi5jdXJyZW50QmF0Y2ggPSAkc2NvcGUubGF5b3V0VGFiLmJhdGNoZXNJbmRleFswXVxuXG5cbiAgICAgICRzY29wZS5ndWlsZHNUYWIuYm9vdCA9ICgpIC0+XG4gICAgICAgICRzY29wZS5ndWlsZHNUYWIuZ3VpbGRzSW5kZXggPSAkZmlyZWJhc2VBcnJheSgkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJndWlsZHMvaW5kZXhcIikpXG4gICAgICAgICRzY29wZS5ndWlsZHNUYWIuYWN0aXZlUGFuZSA9ICdPdmVydmlldydcbiAgICAgICAgJHNjb3BlLmd1aWxkc1RhYi5ndWlsZHNJbmRleC4kbG9hZGVkICh4KSAtPlxuICAgICAgICAgIGNvbnNvbGUubG9nIHhcbiAgICAgICAgICAkc2NvcGUuZ3VpbGRzVGFiLmN1cnJlbnRHdWlsZCA9ICRzY29wZS5ndWlsZHNUYWIuZ3VpbGRzSW5kZXhbMF0gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2cgJHNjb3BlLmd1aWxkc1RhYi5jdXJyZW50R3VpbGRcblxuXG4gICAgICAkc2NvcGUuZ3VpbGRzVGFiLmNyZWF0ZUd1aWxkID0gKCkgLT5cbiAgICAgICAgJHJvb3RTY29wZS5tb2RhbEhlYWRlciA9ICdOZXcgR3VpbGQnXG4gICAgICAgICRyb290U2NvcGUubW9kYWxDb250ZW50ID0gJHNjZS50cnVzdEFzSHRtbCgnRW50ZXIgYSBuYW1lIGZvciB5b3VyIG5ldyBndWlsZDogPGJyPjxicj4gPGlucHV0IG5hbWU9XCJuYW1lXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlRoZSBSdWJ5IE5pbmphc1wiIGNsYXNzPVwiZ3VpbGQtbmFtZSBmb3JtLWNvbnRyb2wgYm9yXCIvPicpXG4gICAgICAgICRyb290U2NvcGUubW9kYWxCdXR0b25UZXh0ID0gJ0NyZWF0ZSdcbiAgICAgICAgJHJvb3RTY29wZS5lbmFibGVNb2RhbCA9IHRydWVcblxuICAgICAgICAkcm9vdFNjb3BlLm9uTW9kYWxCdXR0b25DbGljayA9IChlKSAtPlxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICRyb290U2NvcGUuZW5hYmxlTW9kYWwgPSBmYWxzZVxuICAgICAgICAgIGd1aWxkTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ndWlsZC1uYW1lJykudmFsdWUudHJpbSgpXG4gICAgICAgICAgaWYgZ3VpbGROYW1lLmxlbmd0aCA+IDBcbiAgICAgICAgICAgIHJlZiA9ICRyb290U2NvcGUucm9vdFJlZi5jaGlsZCgnZ3VpbGRzJykucHVzaCgpXG4gICAgICAgICAgICBndWlsZENvZGUgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMTApLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgIHJlZi5zZXRXaXRoUHJpb3JpdHkge2d1aWxkQ29kZTogZ3VpbGRDb2RlLCBuYW1lOiBndWlsZE5hbWV9LCBndWlsZE5hbWVcbiAgICAgICAgICAgIHJlZi5jaGlsZChcIm1lbWJlcnMvI3skcm9vdFNjb3BlLmN1cnJlbnRVaWR9XCIpLnNldCB7bWVtYmVySWQ6ICRyb290U2NvcGUuY3VycmVudFVpZCwgcm9sZTogJ09XTkVSJ31cbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAkcm9vdFNjb3BlLmN1cnJlbnRVc2VyUmVmLmNoaWxkKFwiZ3VpbGRzL2luZGV4LyN7cmVmLmtleSgpfVwiKS5zZXQge2d1aWxkSWQ6IHJlZi5rZXkoKSwgZ3VpbGROYW1lOiBndWlsZE5hbWV9XG4gICAgICAgICAgICAkcm9vdFNjb3BlLnJvb3RSZWYuY2hpbGQoXCJndWlsZHMvaW5kZXgvI3tyZWYua2V5KCl9XCIpLnNldFdpdGhQcmlvcml0eSB7Z3VpbGRDb2RlOiBndWlsZENvZGUsIGd1aWxkTmFtZTogZ3VpbGROYW1lfSwgZ3VpbGROYW1lXG4gICAgICAgICAgICBndWlsZCA9IHt9XG4gICAgICAgICAgICBndWlsZFsnJGlkJ10gPSByZWYua2V5KClcbiAgICAgICAgICAgICRzY29wZS5ndWlsZHNUYWIuY2hhbmdlR3VpbGQoZ3VpbGQpICAgICAgICAgIFxuXG4gICAgICAkc2NvcGUuZ3VpbGRzVGFiLmNoYW5nZUd1aWxkID0gKGd1aWxkKSAtPlxuICAgICAgICAkc2NvcGUuZ3VpbGRzVGFiLmN1cnJlbnRHdWlsZC4kZGVzdHJveSgpIGlmICRzY29wZS5ndWlsZHNUYWIuY3VycmVudEd1aWxkXG4gICAgICAgICRzY29wZS5ndWlsZHNUYWIuY3VycmVudEd1aWxkID0gJGZpcmViYXNlT2JqZWN0KCRyb290U2NvcGUucm9vdFJlZi5jaGlsZChcImd1aWxkcy8je2d1aWxkLiRpZH1cIikpXG5cblxuXG4gICAgICAgICAgICBcblxuICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICAgJHNjb3BlLnRwbCA9ICdqYXZhc2NyaXB0cy9hcHAvdGVtcGxhdGVzL21lbnRvci9ndWlsZHMuaHRtbCdcbiAgICAgICAgJHNjb3BlLmd1aWxkc1RhYi5ib290KClcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkVGFiID0gJ0dVSUxEUydcbiAgICAgICwgMTAwXG5cblxuXG5cblxuXG4gIE1lbnRvckNvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIkZpcmViYXNlU2VydmljZVwiLCBcIiR3aW5kb3dcIiwgXCIkdGltZW91dFwiLCBcIiRmaXJlYmFzZU9iamVjdFwiLCBcIiRmaXJlYmFzZUFycmF5XCIsIFwiJHJvb3RTY29wZVwiLCBcIiRzY2VcIiwgXCIkbG9jYXRpb25cIl1cblxuICBBbmdBcHAuY29udHJvbGxlciAnTWVudG9yQ29udHJvbGxlcicsIE1lbnRvckNvbnRyb2xsZXJcblxuICBNZW50b3JDb250cm9sbGVyIl19
